  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.2ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInvoiceTrails (20090907094919)
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "invoice_trails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admission_date" date, "external_code" varchar(255), "last_name" varchar(255), "first_name" varchar(255), "gross_amount" decimal, "payed_amount" boolean, "discount" decimal, "payed" boolean, "payment_date" date, "invoice_number" integer, "notes" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.3ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090907094919')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("invoice_trails")[0m


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 11:50:10) [GET]
  [4;36;1mInvoiceTrail Load (0.4ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
Rendering invoice_trails/index

ActionView::TemplateError (undefined method `title' for #<ActionView::Base:0x18d8708>) on line #1 of app/views/invoice_trails/index.html.haml:
1: - title "Invoice Trails"
2: 
3: %table
4:   %tr

    app/views/invoice_trails/index.html.haml:1:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (98.9ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 11:52:16) [GET]
  [4;36;1mInvoiceTrail Load (0.4ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 23ms (View: 19, DB: 0) | 200 OK [http://localhost/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 11:52:52) [GET]
  [4;35;1mInvoiceTrail Load (0.3ms)[0m   [0mSELECT * FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 5ms (View: 1, DB: 0) | 200 OK [http://localhost/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 11:52:52) [GET]
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 5ms (View: 1, DB: 0) | 200 OK [http://localhost/]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 11:52:59) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (298.5ms)
Completed in 313ms (View: 308, DB: 0) | 200 OK [http://localhost/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 11:55:50) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (136.8ms)
Completed in 243ms (View: 237, DB: 0) | 200 OK [http://localhost/invoice_trails/new]
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInvoiceTrails (20090907100024)
  [4;36;1mSQL (0.1ms)[0m   [0;1mselect sqlite_version(*)[0m
  [4;35;1mSQL (0.0ms)[0m   [0mSQLite3::SQLException: table "invoice_trails" already exists: CREATE TABLE "invoice_trails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admission_date" date, "external_code" varchar(255), "last_name" varchar(255), "first_name" varchar(255), "gross_amount" decimal, "payed_amount" boolean, "discount" decimal, "payed" boolean, "payment_date" date, "invoice_number" integer, "notes" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInvoiceTrails (20090907100024)
  [4;36;1mSQL (0.5ms)[0m   [0;1mCREATE TABLE "invoice_trails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admission_date" date, "external_code" varchar(255), "last_name" varchar(255), "first_name" varchar(255), "gross_amount" decimal, "payed_amount" boolean, "discount" decimal, "payed" boolean, "payment_date" date, "invoice_number" integer, "notes" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.5ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090907100024')[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("invoice_trails")[0m


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:03:00) [GET]
  [4;36;1mInvoiceTrail Load (0.4ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 124ms (View: 119, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 12:03:02) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (76.7ms)
Completed in 91ms (View: 86, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 12:03:49) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (30.0ms)
Completed in 41ms (View: 33, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:38:09) [GET]
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (You don't need to use "- end" in Haml. Use indentation instead:
- if foo?
  %strong Foo!
- else
  Not foo.) on line #40 of app/views/invoice_trails/index.html.haml:
37:     = f.collection_select :technician_id_is, Technician.all, :id, :name, { :include_blank => true }
38: %p.button
39:   = f.submit 'Filter'
40: - end
41: 
42: 
43: 

    app/views/invoice_trails/index.html.haml:40
    haml (2.2.3) lib/haml/precompiler.rb:219:in `process_line'
    haml (2.2.3) lib/haml/precompiler.rb:168:in `precompile'
    haml (2.2.3) lib/haml/engine.rb:112:in `initialize'
    haml (2.2.3) lib/haml/template/plugin.rb:21:in `new'
    haml (2.2.3) lib/haml/template/plugin.rb:21:in `compile'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (167.0ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:38:25) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
ERROR: compiling _run_haml_app47views47invoice_trails47index46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:73: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:75: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47invoice_trails47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :format=>:xhtml, :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Invoice Trails (#{@invoice_trails_count})";

 form_for @search do |f|;
































_hamlout.push_text("<fieldset>\n  <legend>\n    Search Criteria\n    <!-- \n    -->\n    <!-- = f.label :service_type_is,  'Type:' -->\n    <!-- \n    -->\n    <!-- \n    -->\n  </legend>\n  <p>\n    #{_hamlout.adjust_tabs(2); haml_temp =  f.label :full_name_contains, 'Full Name:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :full_name_contains, :size => 30
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.label :payed, 'Payment Status:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.radio_button :payed, true
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    Payed&nbsp;&nbsp;\n    #{haml_temp =  f.radio_button :payed, false
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    Not Payed&nbsp;&nbsp;\n  </p>\n  <p>\n    #{haml_temp =  f.label :admission_date_after, "Scheduled between:"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :scheduled_date_at_after, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.label :scheduled_date_at_before, "and:"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :note_contains, 'Note contains:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :note_contains, :size => 20
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p>\n    #{haml_temp =  f.label :equipment_id_is, 'Equipment:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :equipment_id_is, Equipment.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :client_id_is, 'Client:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :client_id_is, Client.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :technician_id_is, 'Technician:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :technician_id_is, Technician.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n</fieldset>\n<p class='button'>\n  #{_hamlout.adjust_tabs(-1); haml_temp =  f.submit 'Filter'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<table>\n  <tr>\n    <th>Admission date</th>\n    <th>External code</th>\n    <th>Last name</th>\n    <th>First name</th>\n    <th>Gross amount</th>\n    <th>Payed amount</th>\n    <th>Discount</th>\n    <th>Payed</th>\n    <th>Payment date</th>\n    <th>Invoice number</th>\n    <th>Notes</th>\n  </tr>\n", 0, false); for invoice_trail in @invoice_trails;


_hamlout.push_text("  <tr>\n    <td>#{_hamlout.adjust_tabs(2); haml_temp = h invoice_trail.admission_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.external_code
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.last_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.first_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.gross_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.discount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payment_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.invoice_number
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.notes
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Show', invoice_trail
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Edit', edit_invoice_trail_path(invoice_trail)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Destroy', invoice_trail, :confirm => 'Are you sure?', :method => :delete
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n<p>#{haml_temp = link_to "New Invoice Trail", new_invoice_trail_path
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</p>\n", 0, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:75:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:73: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:75: syntax error, unexpected $end, expecting kEND) on line #73 of app/views/invoice_trails/index.html.haml:
70: 
71: %p= link_to "New Invoice Trail", new_invoice_trail_path

    app/views/invoice_trails/index.html.haml:75:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (35.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:41:48) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
ERROR: compiling _run_haml_app47views47invoice_trails47index46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:73: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:75: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47invoice_trails47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :format=>:xhtml, :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Invoice Trails (#{@invoice_trails_count})";

 form_for @search do |f|;
































_hamlout.push_text("<fieldset>\n  <legend>\n    Search Criteria\n    <!-- \n    -->\n    <!-- = f.label :service_type_is,  'Type:' -->\n    <!-- \n    -->\n    <!-- \n    -->\n  </legend>\n  <p>\n    #{_hamlout.adjust_tabs(2); haml_temp =  f.label :full_name_contains, 'Full Name:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :full_name_contains, :size => 30
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.label :payed, 'Payment Status:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.radio_button :payed, true
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    Payed&nbsp;&nbsp;\n    #{haml_temp =  f.radio_button :payed, false
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    Not Payed&nbsp;&nbsp;\n  </p>\n  <p>\n    #{haml_temp =  f.label :admission_date_after, "Scheduled between:"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :scheduled_date_at_after, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.label :scheduled_date_at_before, "and:"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :note_contains, 'Note contains:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :note_contains, :size => 20
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p>\n    #{haml_temp =  f.label :equipment_id_is, 'Equipment:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :equipment_id_is, Equipment.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :client_id_is, 'Client:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :client_id_is, Client.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :technician_id_is, 'Technician:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :technician_id_is, Technician.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n</fieldset>\n<p class='button'>\n  #{_hamlout.adjust_tabs(-1); haml_temp =  f.submit 'Filter'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<table>\n  <tr>\n    <th>Admission date</th>\n    <th>External code</th>\n    <th>Last name</th>\n    <th>First name</th>\n    <th>Gross amount</th>\n    <th>Payed amount</th>\n    <th>Discount</th>\n    <th>Payed</th>\n    <th>Payment date</th>\n    <th>Invoice number</th>\n    <th>Notes</th>\n  </tr>\n", 0, false); for invoice_trail in @invoice_trails;


_hamlout.push_text("  <tr>\n    <td>#{_hamlout.adjust_tabs(2); haml_temp = h invoice_trail.admission_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.external_code
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.last_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.first_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.gross_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.discount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payment_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.invoice_number
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.notes
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Show', invoice_trail
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Edit', edit_invoice_trail_path(invoice_trail)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Destroy', invoice_trail, :confirm => 'Are you sure?', :method => :delete
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n<p>#{haml_temp = link_to "New Invoice Trail", new_invoice_trail_path
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</p>\n", 0, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:75:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:73: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:75: syntax error, unexpected $end, expecting kEND) on line #73 of app/views/invoice_trails/index.html.haml:
70: 
71: %p= link_to "New Invoice Trail", new_invoice_trail_path

    app/views/invoice_trails/index.html.haml:75:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (113.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:41:49) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
ERROR: compiling _run_haml_app47views47invoice_trails47index46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:73: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:75: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47invoice_trails47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :format=>:xhtml, :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Invoice Trails (#{@invoice_trails_count})";

 form_for @search do |f|;
































_hamlout.push_text("<fieldset>\n  <legend>\n    Search Criteria\n    <!-- \n    -->\n    <!-- = f.label :service_type_is,  'Type:' -->\n    <!-- \n    -->\n    <!-- \n    -->\n  </legend>\n  <p>\n    #{_hamlout.adjust_tabs(2); haml_temp =  f.label :full_name_contains, 'Full Name:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :full_name_contains, :size => 30
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.label :payed, 'Payment Status:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.radio_button :payed, true
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    Payed&nbsp;&nbsp;\n    #{haml_temp =  f.radio_button :payed, false
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    Not Payed&nbsp;&nbsp;\n  </p>\n  <p>\n    #{haml_temp =  f.label :admission_date_after, "Scheduled between:"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :scheduled_date_at_after, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.label :scheduled_date_at_before, "and:"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :note_contains, 'Note contains:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :note_contains, :size => 20
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p>\n    #{haml_temp =  f.label :equipment_id_is, 'Equipment:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :equipment_id_is, Equipment.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :client_id_is, 'Client:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :client_id_is, Client.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :technician_id_is, 'Technician:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :technician_id_is, Technician.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n</fieldset>\n<p class='button'>\n  #{_hamlout.adjust_tabs(-1); haml_temp =  f.submit 'Filter'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<table>\n  <tr>\n    <th>Admission date</th>\n    <th>External code</th>\n    <th>Last name</th>\n    <th>First name</th>\n    <th>Gross amount</th>\n    <th>Payed amount</th>\n    <th>Discount</th>\n    <th>Payed</th>\n    <th>Payment date</th>\n    <th>Invoice number</th>\n    <th>Notes</th>\n  </tr>\n", 0, false); for invoice_trail in @invoice_trails;


_hamlout.push_text("  <tr>\n    <td>#{_hamlout.adjust_tabs(2); haml_temp = h invoice_trail.admission_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.external_code
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.last_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.first_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.gross_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.discount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payment_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.invoice_number
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.notes
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Show', invoice_trail
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Edit', edit_invoice_trail_path(invoice_trail)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Destroy', invoice_trail, :confirm => 'Are you sure?', :method => :delete
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n<p>#{haml_temp = link_to "New Invoice Trail", new_invoice_trail_path
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</p>\n", 0, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:75:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:73: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:75: syntax error, unexpected $end, expecting kEND) on line #73 of app/views/invoice_trails/index.html.haml:
70: 
71: %p= link_to "New Invoice Trail", new_invoice_trail_path

    app/views/invoice_trails/index.html.haml:75:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (35.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:41:56) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
ERROR: compiling _run_haml_app47views47invoice_trails47index46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:73: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:75: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47invoice_trails47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :format=>:xhtml, :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Invoice Trails (#{@invoice_trails_count})";

 form_for @search do |f|;
































_hamlout.push_text("<fieldset>\n  <legend>\n    Search Criteria\n    <!-- \n    -->\n    <!-- = f.label :service_type_is,  'Type:' -->\n    <!-- \n    -->\n    <!-- \n    -->\n  </legend>\n  <p>\n    #{_hamlout.adjust_tabs(2); haml_temp =  f.label :full_name_contains, 'Full Name:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :full_name_contains, :size => 30
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.label :payed, 'Payment Status:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.radio_button :payed, true
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    Payed&nbsp;&nbsp;\n    #{haml_temp =  f.radio_button :payed, false
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    Not Payed&nbsp;&nbsp;\n  </p>\n  <p>\n    #{haml_temp =  f.label :admission_date_after, "Scheduled between:"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :scheduled_date_at_after, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.label :scheduled_date_at_before, "and:"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :note_contains, 'Note contains:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :note_contains, :size => 20
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p>\n    #{haml_temp =  f.label :equipment_id_is, 'Equipment:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :equipment_id_is, Equipment.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :client_id_is, 'Client:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :client_id_is, Client.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :technician_id_is, 'Technician:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :technician_id_is, Technician.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n</fieldset>\n<p class='button'>\n  #{_hamlout.adjust_tabs(-1); haml_temp =  f.submit 'Filter'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<table>\n  <tr>\n    <th>Admission date</th>\n    <th>External code</th>\n    <th>Last name</th>\n    <th>First name</th>\n    <th>Gross amount</th>\n    <th>Payed amount</th>\n    <th>Discount</th>\n    <th>Payed</th>\n    <th>Payment date</th>\n    <th>Invoice number</th>\n    <th>Notes</th>\n  </tr>\n", 0, false); for invoice_trail in @invoice_trails;


_hamlout.push_text("  <tr>\n    <td>#{_hamlout.adjust_tabs(2); haml_temp = h invoice_trail.admission_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.external_code
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.last_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.first_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.gross_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.discount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payment_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.invoice_number
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.notes
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Show', invoice_trail
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Edit', edit_invoice_trail_path(invoice_trail)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Destroy', invoice_trail, :confirm => 'Are you sure?', :method => :delete
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n<p>#{haml_temp = link_to "New Invoice Trail", new_invoice_trail_path
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</p>\n", 0, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:75:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:73: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:75: syntax error, unexpected $end, expecting kEND) on line #73 of app/views/invoice_trails/index.html.haml:
70: 
71: %p= link_to "New Invoice Trail", new_invoice_trail_path

    app/views/invoice_trails/index.html.haml:75:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (109.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:41:57) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
ERROR: compiling _run_haml_app47views47invoice_trails47index46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:73: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:75: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47invoice_trails47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :format=>:xhtml, :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Invoice Trails (#{@invoice_trails_count})";

 form_for @search do |f|;
































_hamlout.push_text("<fieldset>\n  <legend>\n    Search Criteria\n    <!-- \n    -->\n    <!-- = f.label :service_type_is,  'Type:' -->\n    <!-- \n    -->\n    <!-- \n    -->\n  </legend>\n  <p>\n    #{_hamlout.adjust_tabs(2); haml_temp =  f.label :full_name_contains, 'Full Name:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :full_name_contains, :size => 30
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.label :payed, 'Payment Status:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.radio_button :payed, true
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    Payed&nbsp;&nbsp;\n    #{haml_temp =  f.radio_button :payed, false
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    Not Payed&nbsp;&nbsp;\n  </p>\n  <p>\n    #{haml_temp =  f.label :admission_date_after, "Scheduled between:"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :scheduled_date_at_after, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.label :scheduled_date_at_before, "and:"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :note_contains, 'Note contains:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :note_contains, :size => 20
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p>\n    #{haml_temp =  f.label :equipment_id_is, 'Equipment:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :equipment_id_is, Equipment.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :client_id_is, 'Client:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :client_id_is, Client.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :technician_id_is, 'Technician:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :technician_id_is, Technician.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n</fieldset>\n<p class='button'>\n  #{_hamlout.adjust_tabs(-1); haml_temp =  f.submit 'Filter'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<table>\n  <tr>\n    <th>Admission date</th>\n    <th>External code</th>\n    <th>Last name</th>\n    <th>First name</th>\n    <th>Gross amount</th>\n    <th>Payed amount</th>\n    <th>Discount</th>\n    <th>Payed</th>\n    <th>Payment date</th>\n    <th>Invoice number</th>\n    <th>Notes</th>\n  </tr>\n", 0, false); for invoice_trail in @invoice_trails;


_hamlout.push_text("  <tr>\n    <td>#{_hamlout.adjust_tabs(2); haml_temp = h invoice_trail.admission_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.external_code
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.last_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.first_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.gross_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.discount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payment_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.invoice_number
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.notes
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Show', invoice_trail
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Edit', edit_invoice_trail_path(invoice_trail)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Destroy', invoice_trail, :confirm => 'Are you sure?', :method => :delete
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n<p>#{haml_temp = link_to "New Invoice Trail", new_invoice_trail_path
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</p>\n", 0, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:75:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:73: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:75: syntax error, unexpected $end, expecting kEND) on line #73 of app/views/invoice_trails/index.html.haml:
70: 
71: %p= link_to "New Invoice Trail", new_invoice_trail_path

    app/views/invoice_trails/index.html.haml:75:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (35.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:41:58) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
ERROR: compiling _run_haml_app47views47invoice_trails47index46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:73: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:75: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47invoice_trails47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :format=>:xhtml, :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Invoice Trails (#{@invoice_trails_count})";

 form_for @search do |f|;
































_hamlout.push_text("<fieldset>\n  <legend>\n    Search Criteria\n    <!-- \n    -->\n    <!-- = f.label :service_type_is,  'Type:' -->\n    <!-- \n    -->\n    <!-- \n    -->\n  </legend>\n  <p>\n    #{_hamlout.adjust_tabs(2); haml_temp =  f.label :full_name_contains, 'Full Name:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :full_name_contains, :size => 30
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.label :payed, 'Payment Status:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.radio_button :payed, true
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    Payed&nbsp;&nbsp;\n    #{haml_temp =  f.radio_button :payed, false
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    Not Payed&nbsp;&nbsp;\n  </p>\n  <p>\n    #{haml_temp =  f.label :admission_date_after, "Scheduled between:"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :scheduled_date_at_after, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.label :scheduled_date_at_before, "and:"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :note_contains, 'Note contains:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :note_contains, :size => 20
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p>\n    #{haml_temp =  f.label :equipment_id_is, 'Equipment:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :equipment_id_is, Equipment.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :client_id_is, 'Client:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :client_id_is, Client.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :technician_id_is, 'Technician:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :technician_id_is, Technician.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n</fieldset>\n<p class='button'>\n  #{_hamlout.adjust_tabs(-1); haml_temp =  f.submit 'Filter'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<table>\n  <tr>\n    <th>Admission date</th>\n    <th>External code</th>\n    <th>Last name</th>\n    <th>First name</th>\n    <th>Gross amount</th>\n    <th>Payed amount</th>\n    <th>Discount</th>\n    <th>Payed</th>\n    <th>Payment date</th>\n    <th>Invoice number</th>\n    <th>Notes</th>\n  </tr>\n", 0, false); for invoice_trail in @invoice_trails;


_hamlout.push_text("  <tr>\n    <td>#{_hamlout.adjust_tabs(2); haml_temp = h invoice_trail.admission_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.external_code
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.last_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.first_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.gross_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.discount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payment_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.invoice_number
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.notes
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Show', invoice_trail
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Edit', edit_invoice_trail_path(invoice_trail)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Destroy', invoice_trail, :confirm => 'Are you sure?', :method => :delete
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n<p>#{haml_temp = link_to "New Invoice Trail", new_invoice_trail_path
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</p>\n", 0, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:75:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:73: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:75: syntax error, unexpected $end, expecting kEND) on line #73 of app/views/invoice_trails/index.html.haml:
70: 
71: %p= link_to "New Invoice Trail", new_invoice_trail_path

    app/views/invoice_trails/index.html.haml:75:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (109.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:43:52) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
ERROR: compiling _run_haml_app47views47invoice_trails47index46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:78: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:80: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47invoice_trails47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :format=>:xhtml, :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Invoice Trails (#{@invoice_trails_count})";

 form_for @search do |f|;



































_hamlout.push_text("<fieldset>\n  <legend>\n    Search Criteria\n    <!-- \n    -->\n    <!-- = f.label :service_type_is,  'Type:' -->\n    <!-- \n    -->\n    <!-- \n    -->\n  </legend>\n  <p>\n    #{_hamlout.adjust_tabs(2); haml_temp =  f.label :full_name_contains, 'Full Name:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :full_name_contains, :size => 30
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.label :payed, 'Payment Status:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.radio_button :payed, true
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    Payed&nbsp;&nbsp;\n    #{haml_temp =  f.radio_button :payed, false
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    Not Payed&nbsp;&nbsp;\n    #{haml_temp =  f.label :invoice_is_nil, 'Invoice is nil:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.check_box :invoice_is_nil, true
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p>\n    #{haml_temp =  f.label :admission_date_after, "Scheduled between:"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :scheduled_date_at_after, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.label :scheduled_date_at_before, "and:"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :note_contains, 'Note contains:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :note_contains, :size => 20
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p>\n    #{haml_temp =  f.label :equipment_id_is, 'Equipment:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :equipment_id_is, Equipment.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :client_id_is, 'Client:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :client_id_is, Client.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :technician_id_is, 'Technician:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :technician_id_is, Technician.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n</fieldset>\n<p class='button'>\n  #{_hamlout.adjust_tabs(-1); haml_temp =  f.submit 'Filter'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<table>\n  <tr>\n    <th>Admission date</th>\n    <th>External code</th>\n    <th>Last name</th>\n    <th>First name</th>\n    <th>Gross amount</th>\n    <th>Payed amount</th>\n    <th>Discount</th>\n    <th>Payed</th>\n    <th>Payment date</th>\n    <th>Invoice number</th>\n    <th>Notes</th>\n  </tr>\n", 0, false); for invoice_trail in @invoice_trails;


_hamlout.push_text("  <tr>\n    <td>#{_hamlout.adjust_tabs(2); haml_temp = h invoice_trail.admission_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.external_code
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.last_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.first_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.gross_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.discount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payment_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.invoice_number
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.notes
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Show', invoice_trail
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Edit', edit_invoice_trail_path(invoice_trail)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Destroy', invoice_trail, :confirm => 'Are you sure?', :method => :delete
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n<p>#{haml_temp = link_to "New Invoice Trail", new_invoice_trail_path
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</p>\n", 0, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:80:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:78: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:80: syntax error, unexpected $end, expecting kEND) on line #78 of app/views/invoice_trails/index.html.haml:
75: 
76: %p= link_to "New Invoice Trail", new_invoice_trail_path

    app/views/invoice_trails/index.html.haml:80:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (35.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:44:14) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
ERROR: compiling _run_haml_app47views47invoice_trails47index46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:78: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:80: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47invoice_trails47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :format=>:xhtml, :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Invoice Trails (#{@invoice_trails_count})";

 form_for @search do |f|;



































_hamlout.push_text("<fieldset>\n  <legend>\n    Search Criteria\n    <!-- \n    -->\n    <!-- = f.label :service_type_is,  'Type:' -->\n    <!-- \n    -->\n    <!-- \n    -->\n  </legend>\n  <p>\n    #{_hamlout.adjust_tabs(2); haml_temp =  f.label :full_name_contains, 'Full Name:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :full_name_contains, :size => 30
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.label :payed, 'Payment Status:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.radio_button :payed, true
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    Payed&nbsp;&nbsp;\n    #{haml_temp =  f.radio_button :payed, false
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    Not Payed&nbsp;&nbsp;\n    #{haml_temp =  f.label :invoice_is_nil, 'Invoice is nil:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.check_box :invoice_is_nil, true
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p>\n    #{haml_temp =  f.label :admission_date_after, "Scheduled between:"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :scheduled_date_at_after, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.label :scheduled_date_at_before, "and:"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :note_contains, 'Note contains:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :note_contains, :size => 20
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p>\n    #{haml_temp =  f.label :equipment_id_is, 'Equipment:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :equipment_id_is, Equipment.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :client_id_is, 'Client:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :client_id_is, Client.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :technician_id_is, 'Technician:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :technician_id_is, Technician.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p class='button'>\n    #{haml_temp =  f.submit 'Filter'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n</fieldset>\n<table>\n  <tr>\n    <th>Admission date</th>\n    <th>External code</th>\n    <th>Last name</th>\n    <th>First name</th>\n    <th>Gross amount</th>\n    <th>Payed amount</th>\n    <th>Discount</th>\n    <th>Payed</th>\n    <th>Payment date</th>\n    <th>Invoice number</th>\n    <th>Notes</th>\n  </tr>\n", -1, false); for invoice_trail in @invoice_trails;


_hamlout.push_text("  <tr>\n    <td>#{_hamlout.adjust_tabs(2); haml_temp = h invoice_trail.admission_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.external_code
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.last_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.first_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.gross_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.discount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payment_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.invoice_number
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.notes
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Show', invoice_trail
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Edit', edit_invoice_trail_path(invoice_trail)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Destroy', invoice_trail, :confirm => 'Are you sure?', :method => :delete
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n<p>#{haml_temp = link_to "New Invoice Trail", new_invoice_trail_path
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</p>\n", 0, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:80:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:78: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:80: syntax error, unexpected $end, expecting kEND) on line #78 of app/views/invoice_trails/index.html.haml:
75: 
76: %p= link_to "New Invoice Trail", new_invoice_trail_path

    app/views/invoice_trails/index.html.haml:80:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (108.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:44:14) [GET]
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
ERROR: compiling _run_haml_app47views47invoice_trails47index46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:78: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:80: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47invoice_trails47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :format=>:xhtml, :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Invoice Trails (#{@invoice_trails_count})";

 form_for @search do |f|;



































_hamlout.push_text("<fieldset>\n  <legend>\n    Search Criteria\n    <!-- \n    -->\n    <!-- = f.label :service_type_is,  'Type:' -->\n    <!-- \n    -->\n    <!-- \n    -->\n  </legend>\n  <p>\n    #{_hamlout.adjust_tabs(2); haml_temp =  f.label :full_name_contains, 'Full Name:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :full_name_contains, :size => 30
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.label :payed, 'Payment Status:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.radio_button :payed, true
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    Payed&nbsp;&nbsp;\n    #{haml_temp =  f.radio_button :payed, false
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    Not Payed&nbsp;&nbsp;\n    #{haml_temp =  f.label :invoice_is_nil, 'Invoice is nil:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.check_box :invoice_is_nil, true
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p>\n    #{haml_temp =  f.label :admission_date_after, "Scheduled between:"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :scheduled_date_at_after, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.label :scheduled_date_at_before, "and:"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :note_contains, 'Note contains:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :note_contains, :size => 20
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p>\n    #{haml_temp =  f.label :equipment_id_is, 'Equipment:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :equipment_id_is, Equipment.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :client_id_is, 'Client:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :client_id_is, Client.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :technician_id_is, 'Technician:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :technician_id_is, Technician.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p class='button'>\n    #{haml_temp =  f.submit 'Filter'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n</fieldset>\n<table>\n  <tr>\n    <th>Admission date</th>\n    <th>External code</th>\n    <th>Last name</th>\n    <th>First name</th>\n    <th>Gross amount</th>\n    <th>Payed amount</th>\n    <th>Discount</th>\n    <th>Payed</th>\n    <th>Payment date</th>\n    <th>Invoice number</th>\n    <th>Notes</th>\n  </tr>\n", -1, false); for invoice_trail in @invoice_trails;


_hamlout.push_text("  <tr>\n    <td>#{_hamlout.adjust_tabs(2); haml_temp = h invoice_trail.admission_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.external_code
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.last_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.first_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.gross_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.discount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payment_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.invoice_number
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.notes
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Show', invoice_trail
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Edit', edit_invoice_trail_path(invoice_trail)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Destroy', invoice_trail, :confirm => 'Are you sure?', :method => :delete
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n<p>#{haml_temp = link_to "New Invoice Trail", new_invoice_trail_path
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</p>\n", 0, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:80:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:78: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:80: syntax error, unexpected $end, expecting kEND) on line #78 of app/views/invoice_trails/index.html.haml:
75: 
76: %p= link_to "New Invoice Trail", new_invoice_trail_path

    app/views/invoice_trails/index.html.haml:80:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (35.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:44:15) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
ERROR: compiling _run_haml_app47views47invoice_trails47index46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:78: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:80: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47invoice_trails47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :format=>:xhtml, :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Invoice Trails (#{@invoice_trails_count})";

 form_for @search do |f|;



































_hamlout.push_text("<fieldset>\n  <legend>\n    Search Criteria\n    <!-- \n    -->\n    <!-- = f.label :service_type_is,  'Type:' -->\n    <!-- \n    -->\n    <!-- \n    -->\n  </legend>\n  <p>\n    #{_hamlout.adjust_tabs(2); haml_temp =  f.label :full_name_contains, 'Full Name:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :full_name_contains, :size => 30
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.label :payed, 'Payment Status:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.radio_button :payed, true
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    Payed&nbsp;&nbsp;\n    #{haml_temp =  f.radio_button :payed, false
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    Not Payed&nbsp;&nbsp;\n    #{haml_temp =  f.label :invoice_is_nil, 'Invoice is nil:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.check_box :invoice_is_nil, true
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p>\n    #{haml_temp =  f.label :admission_date_after, "Scheduled between:"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :scheduled_date_at_after, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.label :scheduled_date_at_before, "and:"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :note_contains, 'Note contains:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :note_contains, :size => 20
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p>\n    #{haml_temp =  f.label :equipment_id_is, 'Equipment:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :equipment_id_is, Equipment.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :client_id_is, 'Client:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :client_id_is, Client.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :technician_id_is, 'Technician:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :technician_id_is, Technician.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p class='button'>\n    #{haml_temp =  f.submit 'Filter'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n</fieldset>\n<table>\n  <tr>\n    <th>Admission date</th>\n    <th>External code</th>\n    <th>Last name</th>\n    <th>First name</th>\n    <th>Gross amount</th>\n    <th>Payed amount</th>\n    <th>Discount</th>\n    <th>Payed</th>\n    <th>Payment date</th>\n    <th>Invoice number</th>\n    <th>Notes</th>\n  </tr>\n", -1, false); for invoice_trail in @invoice_trails;


_hamlout.push_text("  <tr>\n    <td>#{_hamlout.adjust_tabs(2); haml_temp = h invoice_trail.admission_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.external_code
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.last_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.first_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.gross_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.discount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payment_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.invoice_number
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.notes
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Show', invoice_trail
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Edit', edit_invoice_trail_path(invoice_trail)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Destroy', invoice_trail, :confirm => 'Are you sure?', :method => :delete
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n<p>#{haml_temp = link_to "New Invoice Trail", new_invoice_trail_path
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</p>\n", 0, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:80:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:78: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:80: syntax error, unexpected $end, expecting kEND) on line #78 of app/views/invoice_trails/index.html.haml:
75: 
76: %p= link_to "New Invoice Trail", new_invoice_trail_path

    app/views/invoice_trails/index.html.haml:80:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (38.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:44:16) [GET]
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
ERROR: compiling _run_haml_app47views47invoice_trails47index46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:78: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:80: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47invoice_trails47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :format=>:xhtml, :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Invoice Trails (#{@invoice_trails_count})";

 form_for @search do |f|;



































_hamlout.push_text("<fieldset>\n  <legend>\n    Search Criteria\n    <!-- \n    -->\n    <!-- = f.label :service_type_is,  'Type:' -->\n    <!-- \n    -->\n    <!-- \n    -->\n  </legend>\n  <p>\n    #{_hamlout.adjust_tabs(2); haml_temp =  f.label :full_name_contains, 'Full Name:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :full_name_contains, :size => 30
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.label :payed, 'Payment Status:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.radio_button :payed, true
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    Payed&nbsp;&nbsp;\n    #{haml_temp =  f.radio_button :payed, false
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    Not Payed&nbsp;&nbsp;\n    #{haml_temp =  f.label :invoice_is_nil, 'Invoice is nil:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;\n    #{haml_temp =  f.check_box :invoice_is_nil, true
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p>\n    #{haml_temp =  f.label :admission_date_after, "Scheduled between:"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :scheduled_date_at_after, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.label :scheduled_date_at_before, "and:"
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :note_contains, 'Note contains:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :note_contains, :size => 20
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p>\n    #{haml_temp =  f.label :equipment_id_is, 'Equipment:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :equipment_id_is, Equipment.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :client_id_is, 'Client:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :client_id_is, Client.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :technician_id_is, 'Technician:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.collection_select :technician_id_is, Technician.all, :id, :name, { :include_blank => true }
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p class='button'>\n    #{haml_temp =  f.submit 'Filter'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n</fieldset>\n<table>\n  <tr>\n    <th>Admission date</th>\n    <th>External code</th>\n    <th>Last name</th>\n    <th>First name</th>\n    <th>Gross amount</th>\n    <th>Payed amount</th>\n    <th>Discount</th>\n    <th>Payed</th>\n    <th>Payment date</th>\n    <th>Invoice number</th>\n    <th>Notes</th>\n  </tr>\n", -1, false); for invoice_trail in @invoice_trails;


_hamlout.push_text("  <tr>\n    <td>#{_hamlout.adjust_tabs(2); haml_temp = h invoice_trail.admission_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.external_code
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.last_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.first_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.gross_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.discount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payment_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.invoice_number
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.notes
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Show', invoice_trail
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Edit', edit_invoice_trail_path(invoice_trail)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Destroy', invoice_trail, :confirm => 'Are you sure?', :method => :delete
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n<p>#{haml_temp = link_to "New Invoice Trail", new_invoice_trail_path
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</p>\n", 0, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:80:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:78: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:80: syntax error, unexpected $end, expecting kEND) on line #78 of app/views/invoice_trails/index.html.haml:
75: 
76: %p= link_to "New Invoice Trail", new_invoice_trail_path

    app/views/invoice_trails/index.html.haml:80:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (35.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:44:36) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
ERROR: compiling _run_haml_app47views47invoice_trails47index46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:38: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:40: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47invoice_trails47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :format=>:xhtml, :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Invoice Trails (#{@invoice_trails_count})";

 form_for @search do |f|;















_hamlout.push_text("<table>\n  <tr>\n    <th>Admission date</th>\n    <th>External code</th>\n    <th>Last name</th>\n    <th>First name</th>\n    <th>Gross amount</th>\n    <th>Payed amount</th>\n    <th>Discount</th>\n    <th>Payed</th>\n    <th>Payment date</th>\n    <th>Invoice number</th>\n    <th>Notes</th>\n  </tr>\n", 1, false); for invoice_trail in @invoice_trails;


_hamlout.push_text("  <tr>\n    <td>#{_hamlout.adjust_tabs(2); haml_temp = h invoice_trail.admission_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.external_code
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.last_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.first_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.gross_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.discount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payment_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.invoice_number
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.notes
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Show', invoice_trail
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Edit', edit_invoice_trail_path(invoice_trail)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Destroy', invoice_trail, :confirm => 'Are you sure?', :method => :delete
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n<p>#{haml_temp = link_to "New Invoice Trail", new_invoice_trail_path
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</p>\n", 0, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:40:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:38: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:40: syntax error, unexpected $end, expecting kEND) on line #38 of app/views/invoice_trails/index.html.haml:
35: 
36: %p= link_to "New Invoice Trail", new_invoice_trail_path

    app/views/invoice_trails/index.html.haml:40:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (34.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:44:37) [GET]
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
ERROR: compiling _run_haml_app47views47invoice_trails47index46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:38: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:40: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47invoice_trails47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :format=>:xhtml, :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Invoice Trails (#{@invoice_trails_count})";

 form_for @search do |f|;















_hamlout.push_text("<table>\n  <tr>\n    <th>Admission date</th>\n    <th>External code</th>\n    <th>Last name</th>\n    <th>First name</th>\n    <th>Gross amount</th>\n    <th>Payed amount</th>\n    <th>Discount</th>\n    <th>Payed</th>\n    <th>Payment date</th>\n    <th>Invoice number</th>\n    <th>Notes</th>\n  </tr>\n", 1, false); for invoice_trail in @invoice_trails;


_hamlout.push_text("  <tr>\n    <td>#{_hamlout.adjust_tabs(2); haml_temp = h invoice_trail.admission_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.external_code
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.last_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.first_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.gross_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.discount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payment_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.invoice_number
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.notes
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Show', invoice_trail
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Edit', edit_invoice_trail_path(invoice_trail)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Destroy', invoice_trail, :confirm => 'Are you sure?', :method => :delete
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n<p>#{haml_temp = link_to "New Invoice Trail", new_invoice_trail_path
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</p>\n", 0, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:40:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:38: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:40: syntax error, unexpected $end, expecting kEND) on line #38 of app/views/invoice_trails/index.html.haml:
35: 
36: %p= link_to "New Invoice Trail", new_invoice_trail_path

    app/views/invoice_trails/index.html.haml:40:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (36.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:44:38) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
ERROR: compiling _run_haml_app47views47invoice_trails47index46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:38: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:40: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47invoice_trails47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :format=>:xhtml, :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Invoice Trails (#{@invoice_trails_count})";

 form_for @search do |f|;















_hamlout.push_text("<table>\n  <tr>\n    <th>Admission date</th>\n    <th>External code</th>\n    <th>Last name</th>\n    <th>First name</th>\n    <th>Gross amount</th>\n    <th>Payed amount</th>\n    <th>Discount</th>\n    <th>Payed</th>\n    <th>Payment date</th>\n    <th>Invoice number</th>\n    <th>Notes</th>\n  </tr>\n", 1, false); for invoice_trail in @invoice_trails;


_hamlout.push_text("  <tr>\n    <td>#{_hamlout.adjust_tabs(2); haml_temp = h invoice_trail.admission_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.external_code
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.last_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.first_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.gross_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.discount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payment_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.invoice_number
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.notes
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Show', invoice_trail
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Edit', edit_invoice_trail_path(invoice_trail)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Destroy', invoice_trail, :confirm => 'Are you sure?', :method => :delete
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n<p>#{haml_temp = link_to "New Invoice Trail", new_invoice_trail_path
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</p>\n", 0, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:40:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:38: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:40: syntax error, unexpected $end, expecting kEND) on line #38 of app/views/invoice_trails/index.html.haml:
35: 
36: %p= link_to "New Invoice Trail", new_invoice_trail_path

    app/views/invoice_trails/index.html.haml:40:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (35.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:44:38) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
ERROR: compiling _run_haml_app47views47invoice_trails47index46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:38: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:40: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47invoice_trails47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :format=>:xhtml, :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Invoice Trails (#{@invoice_trails_count})";

 form_for @search do |f|;















_hamlout.push_text("<table>\n  <tr>\n    <th>Admission date</th>\n    <th>External code</th>\n    <th>Last name</th>\n    <th>First name</th>\n    <th>Gross amount</th>\n    <th>Payed amount</th>\n    <th>Discount</th>\n    <th>Payed</th>\n    <th>Payment date</th>\n    <th>Invoice number</th>\n    <th>Notes</th>\n  </tr>\n", 1, false); for invoice_trail in @invoice_trails;


_hamlout.push_text("  <tr>\n    <td>#{_hamlout.adjust_tabs(2); haml_temp = h invoice_trail.admission_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.external_code
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.last_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.first_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.gross_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.discount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payment_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.invoice_number
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.notes
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Show', invoice_trail
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Edit', edit_invoice_trail_path(invoice_trail)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Destroy', invoice_trail, :confirm => 'Are you sure?', :method => :delete
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n<p>#{haml_temp = link_to "New Invoice Trail", new_invoice_trail_path
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</p>\n", 0, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:40:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:38: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:40: syntax error, unexpected $end, expecting kEND) on line #38 of app/views/invoice_trails/index.html.haml:
35: 
36: %p= link_to "New Invoice Trail", new_invoice_trail_path

    app/views/invoice_trails/index.html.haml:40:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (37.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:44:39) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
ERROR: compiling _run_haml_app47views47invoice_trails47index46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:38: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:40: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47invoice_trails47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :format=>:xhtml, :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Invoice Trails (#{@invoice_trails_count})";

 form_for @search do |f|;















_hamlout.push_text("<table>\n  <tr>\n    <th>Admission date</th>\n    <th>External code</th>\n    <th>Last name</th>\n    <th>First name</th>\n    <th>Gross amount</th>\n    <th>Payed amount</th>\n    <th>Discount</th>\n    <th>Payed</th>\n    <th>Payment date</th>\n    <th>Invoice number</th>\n    <th>Notes</th>\n  </tr>\n", 1, false); for invoice_trail in @invoice_trails;


_hamlout.push_text("  <tr>\n    <td>#{_hamlout.adjust_tabs(2); haml_temp = h invoice_trail.admission_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.external_code
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.last_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.first_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.gross_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.discount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payment_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.invoice_number
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.notes
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Show', invoice_trail
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Edit', edit_invoice_trail_path(invoice_trail)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Destroy', invoice_trail, :confirm => 'Are you sure?', :method => :delete
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n<p>#{haml_temp = link_to "New Invoice Trail", new_invoice_trail_path
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</p>\n", 0, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:40:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:38: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:40: syntax error, unexpected $end, expecting kEND) on line #38 of app/views/invoice_trails/index.html.haml:
35: 
36: %p= link_to "New Invoice Trail", new_invoice_trail_path

    app/views/invoice_trails/index.html.haml:40:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (35.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:44:40) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
ERROR: compiling _run_haml_app47views47invoice_trails47index46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:38: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:40: syntax error, unexpected $end, expecting kEND
Function body:           def _run_haml_app47views47invoice_trails47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:attr_wrapper=>"'", :format=>:xhtml, :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Invoice Trails (#{@invoice_trails_count})";

 form_for @search do |f|;















_hamlout.push_text("<table>\n  <tr>\n    <th>Admission date</th>\n    <th>External code</th>\n    <th>Last name</th>\n    <th>First name</th>\n    <th>Gross amount</th>\n    <th>Payed amount</th>\n    <th>Discount</th>\n    <th>Payed</th>\n    <th>Payment date</th>\n    <th>Invoice number</th>\n    <th>Notes</th>\n  </tr>\n", 1, false); for invoice_trail in @invoice_trails;


_hamlout.push_text("  <tr>\n    <td>#{_hamlout.adjust_tabs(2); haml_temp = h invoice_trail.admission_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.external_code
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.last_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.first_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.gross_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.discount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payment_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.invoice_number
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.notes
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Show', invoice_trail
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Edit', edit_invoice_trail_path(invoice_trail)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Destroy', invoice_trail, :confirm => 'Are you sure?', :method => :delete
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n<p>#{haml_temp = link_to "New Invoice Trail", new_invoice_trail_path
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</p>\n", 0, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:40:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:38: syntax error, unexpected kENSURE, expecting kEND
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:40: syntax error, unexpected $end, expecting kEND) on line #38 of app/views/invoice_trails/index.html.haml:
35: 
36: %p= link_to "New Invoice Trail", new_invoice_trail_path

    app/views/invoice_trails/index.html.haml:40:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (110.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:44:53) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined method `full_name_contains' for #<Class:0x238a0e8>) on line #28 of app/views/invoice_trails/index.html.haml:
25: 
26:     %p
27:       = f.label :admission_date_after, "Scheduled between:"
28:       = f.text_field :scheduled_date_at_after, :size => 10, :class => 'date'
29:       = f.label :scheduled_date_at_before, "and:"
30:       = f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
31:       \&nbsp;&nbsp;&nbsp;&nbsp;

    app/views/invoice_trails/index.html.haml:28:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `call'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `form_for'
    haml (2.2.3) lib/haml/helpers.rb:542:in `call'
    haml (2.2.3) lib/haml/helpers.rb:542:in `haml_bind_proc'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:169:in `form_for'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (50.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:44:54) [GET]
  [4;35;1mInvoiceTrail Load (0.1ms)[0m   [0mSELECT * FROM "invoice_trails" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined method `full_name_contains' for #<Class:0x3c95934>) on line #28 of app/views/invoice_trails/index.html.haml:
25: 
26:     %p
27:       = f.label :admission_date_after, "Scheduled between:"
28:       = f.text_field :scheduled_date_at_after, :size => 10, :class => 'date'
29:       = f.label :scheduled_date_at_before, "and:"
30:       = f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
31:       \&nbsp;&nbsp;&nbsp;&nbsp;

    app/views/invoice_trails/index.html.haml:28:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `call'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `form_for'
    haml (2.2.3) lib/haml/helpers.rb:542:in `call'
    haml (2.2.3) lib/haml/helpers.rb:542:in `haml_bind_proc'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:169:in `form_for'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (49.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:45:16) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (undefined method `merge' for true:TrueClass) on line #33 of app/views/invoice_trails/index.html.haml:
30:       = f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
31:       \&nbsp;&nbsp;&nbsp;&nbsp;
32:       = f.label :note_contains, 'Note contains:'
33:       = f.text_field :note_contains, :size => 20
34:     %p
35:       = f.label :equipment_id_is, 'Equipment:'
36:       = f.collection_select :equipment_id_is, Equipment.all, :id, :name, { :include_blank => true }

    app/views/invoice_trails/index.html.haml:33:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `call'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `form_for'
    haml (2.2.3) lib/haml/helpers.rb:542:in `call'
    haml (2.2.3) lib/haml/helpers.rb:542:in `haml_bind_proc'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:169:in `form_for'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (122.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:45:41) [GET]
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (undefined method `merge' for true:TrueClass) on line #33 of app/views/invoice_trails/index.html.haml:
30:       = f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
31:       \&nbsp;&nbsp;&nbsp;&nbsp;
32:       = f.label :note_contains, 'Note contains:'
33:       = f.text_field :note_contains, :size => 20
34:     %p
35:       = f.label :equipment_id_is, 'Equipment:'
36:       = f.collection_select :equipment_id_is, Equipment.all, :id, :name, { :include_blank => true }

    app/views/invoice_trails/index.html.haml:33:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `call'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `form_for'
    haml (2.2.3) lib/haml/helpers.rb:542:in `call'
    haml (2.2.3) lib/haml/helpers.rb:542:in `haml_bind_proc'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:169:in `form_for'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (41.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:45:42) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (undefined method `merge' for true:TrueClass) on line #33 of app/views/invoice_trails/index.html.haml:
30:       = f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
31:       \&nbsp;&nbsp;&nbsp;&nbsp;
32:       = f.label :note_contains, 'Note contains:'
33:       = f.text_field :note_contains, :size => 20
34:     %p
35:       = f.label :equipment_id_is, 'Equipment:'
36:       = f.collection_select :equipment_id_is, Equipment.all, :id, :name, { :include_blank => true }

    app/views/invoice_trails/index.html.haml:33:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `call'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `form_for'
    haml (2.2.3) lib/haml/helpers.rb:542:in `call'
    haml (2.2.3) lib/haml/helpers.rb:542:in `haml_bind_proc'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:169:in `form_for'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (41.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:45:43) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (undefined method `merge' for true:TrueClass) on line #33 of app/views/invoice_trails/index.html.haml:
30:       = f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
31:       \&nbsp;&nbsp;&nbsp;&nbsp;
32:       = f.label :note_contains, 'Note contains:'
33:       = f.text_field :note_contains, :size => 20
34:     %p
35:       = f.label :equipment_id_is, 'Equipment:'
36:       = f.collection_select :equipment_id_is, Equipment.all, :id, :name, { :include_blank => true }

    app/views/invoice_trails/index.html.haml:33:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `call'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `form_for'
    haml (2.2.3) lib/haml/helpers.rb:542:in `call'
    haml (2.2.3) lib/haml/helpers.rb:542:in `haml_bind_proc'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:169:in `form_for'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (125.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:45:44) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (undefined method `merge' for true:TrueClass) on line #33 of app/views/invoice_trails/index.html.haml:
30:       = f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
31:       \&nbsp;&nbsp;&nbsp;&nbsp;
32:       = f.label :note_contains, 'Note contains:'
33:       = f.text_field :note_contains, :size => 20
34:     %p
35:       = f.label :equipment_id_is, 'Equipment:'
36:       = f.collection_select :equipment_id_is, Equipment.all, :id, :name, { :include_blank => true }

    app/views/invoice_trails/index.html.haml:33:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `call'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `form_for'
    haml (2.2.3) lib/haml/helpers.rb:542:in `call'
    haml (2.2.3) lib/haml/helpers.rb:542:in `haml_bind_proc'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:169:in `form_for'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (40.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:45:44) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (undefined method `merge' for true:TrueClass) on line #33 of app/views/invoice_trails/index.html.haml:
30:       = f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
31:       \&nbsp;&nbsp;&nbsp;&nbsp;
32:       = f.label :note_contains, 'Note contains:'
33:       = f.text_field :note_contains, :size => 20
34:     %p
35:       = f.label :equipment_id_is, 'Equipment:'
36:       = f.collection_select :equipment_id_is, Equipment.all, :id, :name, { :include_blank => true }

    app/views/invoice_trails/index.html.haml:33:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `call'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `form_for'
    haml (2.2.3) lib/haml/helpers.rb:542:in `call'
    haml (2.2.3) lib/haml/helpers.rb:542:in `haml_bind_proc'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:169:in `form_for'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (128.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:45:45) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (undefined method `merge' for true:TrueClass) on line #33 of app/views/invoice_trails/index.html.haml:
30:       = f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
31:       \&nbsp;&nbsp;&nbsp;&nbsp;
32:       = f.label :note_contains, 'Note contains:'
33:       = f.text_field :note_contains, :size => 20
34:     %p
35:       = f.label :equipment_id_is, 'Equipment:'
36:       = f.collection_select :equipment_id_is, Equipment.all, :id, :name, { :include_blank => true }

    app/views/invoice_trails/index.html.haml:33:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `call'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `form_for'
    haml (2.2.3) lib/haml/helpers.rb:542:in `call'
    haml (2.2.3) lib/haml/helpers.rb:542:in `haml_bind_proc'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:169:in `form_for'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (44.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:46:14) [GET]
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (undefined method `merge' for true:TrueClass) on line #30 of app/views/invoice_trails/index.html.haml:
27:       = f.label :admission_date_after, "Scheduled between:"
28:       = f.text_field :scheduled_date_at_after, :size => 10, :class => 'date'
29:       = f.label :scheduled_date_at_before, "and:"
30:       = f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
31:       \&nbsp;&nbsp;&nbsp;&nbsp;
32:       = f.label :note_contains, 'Note contains:'
33:       = f.text_field :note_contains, :size => 20

    app/views/invoice_trails/index.html.haml:30:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `call'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `form_for'
    haml (2.2.3) lib/haml/helpers.rb:542:in `call'
    haml (2.2.3) lib/haml/helpers.rb:542:in `haml_bind_proc'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:169:in `form_for'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (124.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:46:15) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (undefined method `merge' for true:TrueClass) on line #30 of app/views/invoice_trails/index.html.haml:
27:       = f.label :admission_date_after, "Scheduled between:"
28:       = f.text_field :scheduled_date_at_after, :size => 10, :class => 'date'
29:       = f.label :scheduled_date_at_before, "and:"
30:       = f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
31:       \&nbsp;&nbsp;&nbsp;&nbsp;
32:       = f.label :note_contains, 'Note contains:'
33:       = f.text_field :note_contains, :size => 20

    app/views/invoice_trails/index.html.haml:30:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `call'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `form_for'
    haml (2.2.3) lib/haml/helpers.rb:542:in `call'
    haml (2.2.3) lib/haml/helpers.rb:542:in `haml_bind_proc'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:169:in `form_for'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (43.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:46:24) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined method `scheduled_date_at_after' for #<Class:0x3a6cce8>) on line #32 of app/views/invoice_trails/index.html.haml:
29:       = f.label :scheduled_date_at_before, "and:"
30:       = f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
31:       \&nbsp;&nbsp;&nbsp;&nbsp;
32:       = f.label :note_contains, 'Note contains:'
33:       = f.text_field :note_contains, :size => 20
34:     
35:   %p.button

    app/views/invoice_trails/index.html.haml:32:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `call'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `form_for'
    haml (2.2.3) lib/haml/helpers.rb:542:in `call'
    haml (2.2.3) lib/haml/helpers.rb:542:in `haml_bind_proc'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:169:in `form_for'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (49.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:46:25) [GET]
  [4;35;1mInvoiceTrail Load (1.3ms)[0m   [0mSELECT * FROM "invoice_trails" [0m
  [4;36;1mSQL (0.3ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined method `scheduled_date_at_after' for #<Class:0x3b19f38>) on line #32 of app/views/invoice_trails/index.html.haml:
29:       = f.label :scheduled_date_at_before, "and:"
30:       = f.text_field :scheduled_date_at_before, :size => 10, :class => 'date'
31:       \&nbsp;&nbsp;&nbsp;&nbsp;
32:       = f.label :note_contains, 'Note contains:'
33:       = f.text_field :note_contains, :size => 20
34:     
35:   %p.button

    app/views/invoice_trails/index.html.haml:32:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `call'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `form_for'
    haml (2.2.3) lib/haml/helpers.rb:542:in `call'
    haml (2.2.3) lib/haml/helpers.rb:542:in `haml_bind_proc'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:169:in `form_for'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (132.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:46:56) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined method `note_contains' for #<Class:0x3bf45c0>) on line #36 of app/views/invoice_trails/index.html.haml:
33:       = f.text_field :note_contains, :size => 20
34:     
35:   %p.button
36:     = f.submit 'Filter'
37: 
38: %table
39:   %tr

    app/views/invoice_trails/index.html.haml:36:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `call'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `form_for'
    haml (2.2.3) lib/haml/helpers.rb:542:in `call'
    haml (2.2.3) lib/haml/helpers.rb:542:in `haml_bind_proc'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:169:in `form_for'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (50.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:47:07) [GET]
  [4;35;1mInvoiceTrail Load (0.1ms)[0m   [0mSELECT * FROM "invoice_trails" [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 23ms (View: 16, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:47:27) [GET]
  [4;35;1mInvoiceTrail Load (0.1ms)[0m   [0mSELECT * FROM "invoice_trails" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 21ms (View: 15, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:47:38) [GET]
  [4;35;1mInvoiceTrail Load (0.1ms)[0m   [0mSELECT * FROM "invoice_trails" [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 20ms (View: 14, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:47:55) [GET]
  [4;35;1mInvoiceTrail Load (0.1ms)[0m   [0mSELECT * FROM "invoice_trails" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 19ms (View: 13, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:48:02) [GET]
  [4;35;1mInvoiceTrail Load (0.1ms)[0m   [0mSELECT * FROM "invoice_trails" [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 20ms (View: 14, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 12:48:10) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (143.1ms)
Completed in 157ms (View: 153, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:48:56) [GET]
  [4;35;1mInvoiceTrail Load (0.1ms)[0m   [0mSELECT * FROM "invoice_trails" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 20ms (View: 14, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:56:31) [GET]
  [4;35;1mInvoiceTrail Load (0.1ms)[0m   [0mSELECT * FROM "invoice_trails" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 22ms (View: 14, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:56:55) [GET]
  [4;35;1mInvoiceTrail Load (0.1ms)[0m   [0mSELECT * FROM "invoice_trails" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 20ms (View: 13, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:58:02) [GET]
  [4;35;1mInvoiceTrail Load (0.1ms)[0m   [0mSELECT * FROM "invoice_trails" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 19ms (View: 13, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:59:35) [GET]
  [4;35;1mInvoiceTrail Load (0.2ms)[0m   [0mSELECT * FROM "invoice_trails" [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 21ms (View: 14, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-07 12:59:36) [GET]

ActionController::RoutingError (No route matches "/javascripts/default.js" with {:method=>:get}):
  passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
  passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
  passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
  passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
  passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
  passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
  passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
  passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
  passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendering rescues/layout (not_found)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:59:42) [GET]
  [4;35;1mInvoiceTrail Load (0.2ms)[0m   [0mSELECT * FROM "invoice_trails" [0m
  [4;36;1mSQL (0.2ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 102ms (View: 96, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-07 12:59:43) [GET]

ActionController::RoutingError (No route matches "/javascripts/defaults.js" with {:method=>:get}):
  passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
  passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
  passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
  passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
  passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
  passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
  passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
  passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
  passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendering rescues/layout (not_found)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:59:43) [GET]
  [4;35;1mInvoiceTrail Load (0.1ms)[0m   [0mSELECT * FROM "invoice_trails" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 12ms (View: 6, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-07 12:59:43) [GET]

ActionController::RoutingError (No route matches "/javascripts/defaults.js" with {:method=>:get}):
  passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
  passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
  passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
  passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
  passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
  passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
  passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
  passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
  passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendering rescues/layout (not_found)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 12:59:51) [GET]
  [4;35;1mInvoiceTrail Load (0.1ms)[0m   [0mSELECT * FROM "invoice_trails" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 20ms (View: 14, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 14:21:56) [GET]
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 235ms (View: 222, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 14:24:35) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (undefined method `merge' for "Has Invoice":String) on line #34 of app/views/invoice_trails/index.html.haml:
31:         / = f.label :invoice_is_nil, 'Invoice is nil:'
32:         / \&nbsp;&nbsp;
33:         / = f.check_box :invoice_is_nil, true
34:         
35:   %p.button
36:     = f.submit 'Filter'
37: 

    app/views/invoice_trails/index.html.haml:34:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `call'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `form_for'
    haml (2.2.3) lib/haml/helpers.rb:542:in `call'
    haml (2.2.3) lib/haml/helpers.rb:542:in `haml_bind_proc'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:169:in `form_for'
    app/views/invoice_trails/index.html.haml:4:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (46.9ms)
Rendered rescues/_request_and_response (1.4ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 14:24:52) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (undefined method `merge' for "Has Invoice:":String) on line #34 of app/views/invoice_trails/index.html.haml:
31:         / = f.label :invoice_is_nil, 'Invoice is nil:'
32:         / \&nbsp;&nbsp;
33:         / = f.check_box :invoice_is_nil, true
34:         
35:   %p.button
36:     = f.submit 'Filter'
37: 

    app/views/invoice_trails/index.html.haml:34:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `call'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `form_for'
    haml (2.2.3) lib/haml/helpers.rb:542:in `call'
    haml (2.2.3) lib/haml/helpers.rb:542:in `haml_bind_proc'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:169:in `form_for'
    app/views/invoice_trails/index.html.haml:4:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (41.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 14:24:57) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined method `invoice' for #<Class:0x23bb134>) on line #34 of app/views/invoice_trails/index.html.haml:
31:         / = f.label :invoice_is_nil, 'Invoice is nil:'
32:         / \&nbsp;&nbsp;
33:         / = f.check_box :invoice_is_nil, true
34:         
35:   %p.button
36:     = f.submit 'Filter'
37: 

    app/views/invoice_trails/index.html.haml:34:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `call'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `form_for'
    haml (2.2.3) lib/haml/helpers.rb:542:in `call'
    haml (2.2.3) lib/haml/helpers.rb:542:in `haml_bind_proc'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:169:in `form_for'
    app/views/invoice_trails/index.html.haml:4:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (121.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 14:25:02) [GET]
  [4;35;1mInvoiceTrail Load (0.1ms)[0m   [0mSELECT * FROM "invoice_trails" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
  [4;35;1mSQL (0.2ms)[0m   [0m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined method `invoice_is_nil' for #<Class:0x24fd470>) on line #34 of app/views/invoice_trails/index.html.haml:
31:         / = f.label :invoice_is_nil, 'Invoice is nil:'
32:         / \&nbsp;&nbsp;
33:         / = f.check_box :invoice_is_nil, true
34:         
35:   %p.button
36:     = f.submit 'Filter'
37: 

    app/views/invoice_trails/index.html.haml:34:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `call'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `form_for'
    haml (2.2.3) lib/haml/helpers.rb:542:in `call'
    haml (2.2.3) lib/haml/helpers.rb:542:in `haml_bind_proc'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:169:in `form_for'
    app/views/invoice_trails/index.html.haml:4:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (48.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 14:25:16) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m

ActionView::TemplateError (undefined method `invoice_is_nil' for #<Class:0x21bf100>) on line #34 of app/views/invoice_trails/index.html.haml:
31:       / = f.label :invoice_is_nil, 'Invoice is nil:'
32:       / \&nbsp;&nbsp;
33:       / = f.check_box :invoice_is_nil, true
34:         
35:   %p.button
36:     = f.submit 'Filter'
37: 

    app/views/invoice_trails/index.html.haml:34:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `call'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `form_for'
    haml (2.2.3) lib/haml/helpers.rb:542:in `call'
    haml (2.2.3) lib/haml/helpers.rb:542:in `haml_bind_proc'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:169:in `form_for'
    app/views/invoice_trails/index.html.haml:4:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (49.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 14:25:22) [GET]
  [4;35;1mInvoiceTrail Load (0.1ms)[0m   [0mSELECT * FROM "invoice_trails" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 21ms (View: 15, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 14:35:19) [GET]
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 181ms (View: 169, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 15:03:12) [GET]
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 255ms (View: 241, DB: 0) | 200 OK [http://bios-invoice-manager.local/]
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (3.2ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.4ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInvoiceTrails (20090907100024)
  [4;36;1mSQL (1.1ms)[0m   [0;1mCREATE TABLE "invoice_trails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admission_date" date, "external_code" varchar(255), "last_name" varchar(255), "first_name" varchar(255), "gross_amount" decimal, "payed_amount" boolean, "discount" decimal, "payed" boolean, "payment_date" date, "invoice_number" integer, "notes" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090907100024')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("invoice_trails")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (2.4ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (2.2ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInvoiceTrails (20090907100024)
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TABLE "invoice_trails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admission_date" date, "external_code" varchar(255), "last_name" varchar(255), "first_name" varchar(255), "gross_amount" decimal, "payed_amount" boolean, "discount" decimal, "payed" boolean, "payment_date" date, "invoice_number" integer, "notes" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090907100024')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("invoice_trails")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (2.8ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.7ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInvoiceTrails (20090907100024)
  [4;36;1mSQL (0.8ms)[0m   [0;1mCREATE TABLE "invoice_trails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admission_date" date, "external_code" varchar(255), "last_name" varchar(255), "first_name" varchar(255), "gross_amount" decimal(3,2) DEFAULT 0.0, "payed_amount" boolean DEFAULT 0.0, "discount" decimal(3,2) DEFAULT 0.0, "payed" boolean, "payment_date" date, "invoice_number" integer, "notes" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.2ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090907100024')[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mPRAGMA index_list("invoice_trails")[0m
  [4;36;1mSQL (0.3ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mselect sqlite_version(*)[0m
  [4;36;1mSQL (2.3ms)[0m   [0;1mCREATE TABLE "schema_migrations" ("version" varchar(255) NOT NULL) [0m
  [4;35;1mSQL (1.6ms)[0m   [0mCREATE UNIQUE INDEX "unique_schema_migrations" ON "schema_migrations" ("version")[0m
  [4;36;1mSQL (0.2ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
Migrating to CreateInvoiceTrails (20090907100024)
  [4;36;1mSQL (0.6ms)[0m   [0;1mCREATE TABLE "invoice_trails" ("id" INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL, "admission_date" date, "external_code" varchar(255), "last_name" varchar(255), "first_name" varchar(255), "gross_amount" decimal(3,2) DEFAULT 0.0, "payed_amount" decimal(3,2) DEFAULT 0.0, "discount" decimal(3,2) DEFAULT 0.0, "payed" boolean, "payment_date" date, "invoice_number" integer, "notes" text, "created_at" datetime, "updated_at" datetime) [0m
  [4;35;1mSQL (0.1ms)[0m   [0mINSERT INTO schema_migrations (version) VALUES ('20090907100024')[0m
  [4;36;1mSQL (0.4ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT version FROM schema_migrations[0m
  [4;36;1mSQL (0.1ms)[0m   [0;1m SELECT name
 FROM sqlite_master
 WHERE type = 'table' AND NOT name = 'sqlite_sequence'
[0m
  [4;35;1mSQL (0.0ms)[0m   [0mPRAGMA index_list("invoice_trails")[0m


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 15:53:56) [GET]
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.3ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 196ms (View: 165, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 15:53:58) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 13ms (View: 6, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filter]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 15:53:59) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (156.5ms)
Completed in 180ms (View: 172, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 15:54:39) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (17.7ms)
Completed in 25ms (View: 20, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 15:55:01) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (72.1ms)
Completed in 232ms (View: 222, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 16:15:51) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (74.5ms)
Completed in 235ms (View: 225, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 16:24:30) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (74.4ms)
Completed in 236ms (View: 227, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 16:24:39) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (19.1ms)
Completed in 32ms (View: 27, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:27:27) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 25ms (View: 19, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:27:29) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 17ms (View: 10, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:27:45) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 89ms (View: 82, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:27:51) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 25ms (View: 18, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:29:25) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
ERROR: compiling _run_haml_app47views47invoice_trails47index46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:28: syntax error, unexpected ':', expecting '}'
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:30: syntax error, unexpected ':', expecting '}'
Function body:           def _run_haml_app47views47invoice_trails47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:format=>:xhtml, :attr_wrapper=>"'", :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Invoice Trails (#{@invoice_trails_count})";
 javascript :defaults;

 form_for @search do |f|;






















_hamlout.push_text("<fieldset>\n  <legend>\n    #{_hamlout.adjust_tabs(2); haml_temp =  t(:search_criteria)
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </legend>\n  <p>\n    #{haml_temp =  f.label :admission_date_after, t(:admission_date_after):
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :admission_date_after, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.label :admission_date_before, t(:admission_date_between):
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :admission_date_before, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :last_name_contains, 'Name:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :last_name_contains, :size => 30
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p>\n    #{haml_temp =  f.label :notes_contains, 'Note contains:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :notes_contains, :size => 20
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    <!-- \\&nbsp;&nbsp; -->\n    <!-- = f.label :payed, 'Payment Status:' -->\n    <!-- \\&nbsp;&nbsp; -->\n    <!-- = f.radio_button :payed, true -->\n    <!-- Payed&nbsp;&nbsp; -->\n    <!-- = f.radio_button :payed, false -->\n    <!-- Not Payed&nbsp;&nbsp; -->\n    <!-- = f.label :invoice_is_nil, 'Invoice is nil:' -->\n    <!-- \\&nbsp;&nbsp; -->\n    <!-- = f.check_box :invoice_is_nil, true -->\n  </p>\n</fieldset>\n<p class='button'>\n  #{_hamlout.adjust_tabs(-1); haml_temp =  f.submit 'Filter'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n", -1, false);end;












_hamlout.push_text("<table>\n  <tr>\n    <th>ID</th>\n    <th>Date</th>\n    <th>Admission</th>\n    <th>Name</th>\n    <th>Gross amount</th>\n    <th>Discount</th>\n    <th>Payed amount</th>\n    <th>Payed</th>\n    <th>Payment date</th>\n    <th>Invoice number</th>\n    <th>Notes</th>\n  </tr>\n", 1, false); for invoice_trail in @invoice_trails;


_hamlout.push_text("  <tr>\n    <td>#{_hamlout.adjust_tabs(2); haml_temp = h invoice_trail.id
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.admission_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.external_code
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.full_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.first_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.gross_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.discount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payment_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.invoice_number
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.notes
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Show', invoice_trail
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Edit', edit_invoice_trail_path(invoice_trail)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Destroy', invoice_trail, :confirm => 'Are you sure?', :method => :delete
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n<p>#{haml_temp = link_to "New Invoice Trail", new_invoice_trail_path
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</p>\n", 0, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:72:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:28: syntax error, unexpected ':', expecting '}'
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:30: syntax error, unexpected ':', expecting '}') on line #28 of app/views/invoice_trails/index.html.haml:
25:       / = f.radio_button :payed, true
26:       / Payed&nbsp;&nbsp;
27:       / = f.radio_button :payed, false
28:       / Not Payed&nbsp;&nbsp;
29: 
30:       / = f.label :invoice_is_nil, 'Invoice is nil:'
31:       / \&nbsp;&nbsp;

    app/views/invoice_trails/index.html.haml:72:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (36.0ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:29:45) [GET]
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 26ms (View: 19, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:29:55) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
ERROR: compiling _run_haml_app47views47invoice_trails47index46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:31: syntax error, unexpected tIDENTIFIER, expecting ')'
_hamlout.format_script_false_false_fal...
        ^
Function body:           def _run_haml_app47views47invoice_trails47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:format=>:xhtml, :attr_wrapper=>"'", :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Invoice Trails (#{@invoice_trails_count})";
 javascript :defaults;

 form_for @search do |f|;






















_hamlout.push_text("<fieldset>\n  <legend>\n    #{_hamlout.adjust_tabs(2); haml_temp =  t(:search_criteria)
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </legend>\n  <p>\n    #{haml_temp =  f.label :admission_date_after, t(:admission_date_after)
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :admission_date_after, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.label :admission_date_before, t(:admission_date_before
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :admission_date_before, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :last_name_contains, 'Name:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :last_name_contains, :size => 30
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p>\n    #{haml_temp =  f.label :notes_contains, 'Note contains:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :notes_contains, :size => 20
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    <!-- \\&nbsp;&nbsp; -->\n    <!-- = f.label :payed, 'Payment Status:' -->\n    <!-- \\&nbsp;&nbsp; -->\n    <!-- = f.radio_button :payed, true -->\n    <!-- Payed&nbsp;&nbsp; -->\n    <!-- = f.radio_button :payed, false -->\n    <!-- Not Payed&nbsp;&nbsp; -->\n    <!-- = f.label :invoice_is_nil, 'Invoice is nil:' -->\n    <!-- \\&nbsp;&nbsp; -->\n    <!-- = f.check_box :invoice_is_nil, true -->\n  </p>\n</fieldset>\n<p class='button'>\n  #{_hamlout.adjust_tabs(-1); haml_temp =  f.submit 'Filter'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n", -1, false);end;












_hamlout.push_text("<table>\n  <tr>\n    <th>ID</th>\n    <th>Date</th>\n    <th>Admission</th>\n    <th>Name</th>\n    <th>Gross amount</th>\n    <th>Discount</th>\n    <th>Payed amount</th>\n    <th>Payed</th>\n    <th>Payment date</th>\n    <th>Invoice number</th>\n    <th>Notes</th>\n  </tr>\n", 1, false); for invoice_trail in @invoice_trails;


_hamlout.push_text("  <tr>\n    <td>#{_hamlout.adjust_tabs(2); haml_temp = h invoice_trail.id
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.admission_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.external_code
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.full_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.first_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.gross_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.discount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payment_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.invoice_number
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.notes
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Show', invoice_trail
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Edit', edit_invoice_trail_path(invoice_trail)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Destroy', invoice_trail, :confirm => 'Are you sure?', :method => :delete
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n<p>#{haml_temp = link_to "New Invoice Trail", new_invoice_trail_path
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</p>\n", 0, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:72:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:31: syntax error, unexpected tIDENTIFIER, expecting ')'
_hamlout.format_script_false_false_fal...
        ^) on line #31 of app/views/invoice_trails/index.html.haml:
28:       / Not Payed&nbsp;&nbsp;
29: 
30:       / = f.label :invoice_is_nil, 'Invoice is nil:'
31:       / \&nbsp;&nbsp;
32:       / = f.check_box :invoice_is_nil, true
33:         
34:   %p.button

    app/views/invoice_trails/index.html.haml:72:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (35.2ms)
Rendered rescues/_request_and_response (0.2ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:30:41) [GET]
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
ERROR: compiling _run_haml_app47views47invoice_trails47index46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:31: syntax error, unexpected tIDENTIFIER, expecting ')'
_hamlout.format_script_false_false_fal...
        ^
Function body:           def _run_haml_app47views47invoice_trails47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:format=>:xhtml, :attr_wrapper=>"'", :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Invoice Trails (#{@invoice_trails_count})";
 javascript :defaults;

 form_for @search do |f|;






















_hamlout.push_text("<fieldset>\n  <legend>\n    #{_hamlout.adjust_tabs(2); haml_temp =  t(:search_criteria)
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </legend>\n  <p>\n    #{haml_temp =  f.label :admission_date_after, t(:admission_date_after)
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :admission_date_after, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.label :admission_date_before, t(:admission_date_before
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :admission_date_before, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :last_name_contains, 'Name:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :last_name_contains, :size => 30
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p>\n    #{haml_temp =  f.label :notes_contains, 'Note contains:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :notes_contains, :size => 20
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    <!-- \\&nbsp;&nbsp; -->\n    <!-- = f.label :payed, 'Payment Status:' -->\n    <!-- \\&nbsp;&nbsp; -->\n    <!-- = f.radio_button :payed, true -->\n    <!-- Payed&nbsp;&nbsp; -->\n    <!-- = f.radio_button :payed, false -->\n    <!-- Not Payed&nbsp;&nbsp; -->\n    <!-- = f.label :invoice_is_nil, 'Invoice is nil:' -->\n    <!-- \\&nbsp;&nbsp; -->\n    <!-- = f.check_box :invoice_is_nil, true -->\n  </p>\n</fieldset>\n<p class='button'>\n  #{_hamlout.adjust_tabs(-1); haml_temp =  f.submit 'Filter'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n", -1, false);end;












_hamlout.push_text("<table>\n  <tr>\n    <th>ID</th>\n    <th>Date</th>\n    <th>Admission</th>\n    <th>Name</th>\n    <th>Gross amount</th>\n    <th>Discount</th>\n    <th>Payed amount</th>\n    <th>Payed</th>\n    <th>Payment date</th>\n    <th>Invoice number</th>\n    <th>Notes</th>\n  </tr>\n", 1, false); for invoice_trail in @invoice_trails;


_hamlout.push_text("  <tr>\n    <td>#{_hamlout.adjust_tabs(2); haml_temp = h invoice_trail.id
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.admission_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.external_code
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.full_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.first_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.gross_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.discount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payment_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.invoice_number
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.notes
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Show', invoice_trail
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Edit', edit_invoice_trail_path(invoice_trail)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Destroy', invoice_trail, :confirm => 'Are you sure?', :method => :delete
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n<p>#{haml_temp = link_to "New Invoice Trail", new_invoice_trail_path
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</p>\n", 0, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:72:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:31: syntax error, unexpected tIDENTIFIER, expecting ')'
_hamlout.format_script_false_false_fal...
        ^) on line #31 of app/views/invoice_trails/index.html.haml:
28:       / Not Payed&nbsp;&nbsp;
29: 
30:       / = f.label :invoice_is_nil, 'Invoice is nil:'
31:       / \&nbsp;&nbsp;
32:       / = f.check_box :invoice_is_nil, true
33:         
34:   %p.button

    app/views/invoice_trails/index.html.haml:72:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (36.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:30:41) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
ERROR: compiling _run_haml_app47views47invoice_trails47index46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:31: syntax error, unexpected tIDENTIFIER, expecting ')'
_hamlout.format_script_false_false_fal...
        ^
Function body:           def _run_haml_app47views47invoice_trails47index46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:format=>:xhtml, :attr_wrapper=>"'", :preserve=>["textarea", "pre"], :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :ugly=>false, :encoding=>nil});_erbout = _hamlout.buffer;__in_erb_template = true;; title "Invoice Trails (#{@invoice_trails_count})";
 javascript :defaults;

 form_for @search do |f|;






















_hamlout.push_text("<fieldset>\n  <legend>\n    #{_hamlout.adjust_tabs(2); haml_temp =  t(:search_criteria)
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </legend>\n  <p>\n    #{haml_temp =  f.label :admission_date_after, t(:admission_date_after)
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :admission_date_after, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.label :admission_date_before, t(:admission_date_before
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :admission_date_before, :size => 10, :class => 'date'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    &nbsp;&nbsp;&nbsp;&nbsp;\n    #{haml_temp =  f.label :last_name_contains, 'Name:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :last_name_contains, :size => 30
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </p>\n  <p>\n    #{haml_temp =  f.label :notes_contains, 'Note contains:'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    #{haml_temp =  f.text_field :notes_contains, :size => 20
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n    <!-- \\&nbsp;&nbsp; -->\n    <!-- = f.label :payed, 'Payment Status:' -->\n    <!-- \\&nbsp;&nbsp; -->\n    <!-- = f.radio_button :payed, true -->\n    <!-- Payed&nbsp;&nbsp; -->\n    <!-- = f.radio_button :payed, false -->\n    <!-- Not Payed&nbsp;&nbsp; -->\n    <!-- = f.label :invoice_is_nil, 'Invoice is nil:' -->\n    <!-- \\&nbsp;&nbsp; -->\n    <!-- = f.check_box :invoice_is_nil, true -->\n  </p>\n</fieldset>\n<p class='button'>\n  #{_hamlout.adjust_tabs(-1); haml_temp =  f.submit 'Filter'
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n", -1, false);end;












_hamlout.push_text("<table>\n  <tr>\n    <th>ID</th>\n    <th>Date</th>\n    <th>Admission</th>\n    <th>Name</th>\n    <th>Gross amount</th>\n    <th>Discount</th>\n    <th>Payed amount</th>\n    <th>Payed</th>\n    <th>Payment date</th>\n    <th>Invoice number</th>\n    <th>Notes</th>\n  </tr>\n", 1, false); for invoice_trail in @invoice_trails;


_hamlout.push_text("  <tr>\n    <td>#{_hamlout.adjust_tabs(2); haml_temp = h invoice_trail.id
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.admission_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.external_code
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.full_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.first_name
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.gross_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.discount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed_amount
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payed
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.payment_date
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.invoice_number
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = h invoice_trail.notes
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Show', invoice_trail
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Edit', edit_invoice_trail_path(invoice_trail)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n    <td>#{_hamlout.adjust_tabs(1); haml_temp = link_to 'Destroy', invoice_trail, :confirm => 'Are you sure?', :method => :delete
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</td>\n  </tr>\n", -1, false);end;_hamlout.push_text("</table>\n<p>#{haml_temp = link_to "New Invoice Trail", new_invoice_trail_path
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</p>\n", 0, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:72:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
/Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/index.html.haml:31: syntax error, unexpected tIDENTIFIER, expecting ')'
_hamlout.format_script_false_false_fal...
        ^) on line #31 of app/views/invoice_trails/index.html.haml:
28:       / Not Payed&nbsp;&nbsp;
29: 
30:       / = f.label :invoice_is_nil, 'Invoice is nil:'
31:       / \&nbsp;&nbsp;
32:       / = f.check_box :invoice_is_nil, true
33:         
34:   %p.button

    app/views/invoice_trails/index.html.haml:72:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (35.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:30:47) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 24ms (View: 18, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:31:01) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 16ms (View: 9, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:31:02) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 16ms (View: 10, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:32:01) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 96ms (View: 90, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:32:10) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 27ms (View: 20, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:32:34) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 17ms (View: 10, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:33:44) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 28ms (View: 21, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:33:44) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 189ms (View: 177, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filter]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:36:18) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 18ms (View: 11, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filter]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:37:59) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 26ms (View: 19, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filter]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:39:56) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 28ms (View: 21, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filter]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:40:19) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 18ms (View: 12, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filter]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:40:48) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 19ms (View: 12, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filter]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:41:14) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 81ms (View: 75, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filter]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:41:23) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 18ms (View: 11, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filter]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:41:42) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 17ms (View: 11, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filter]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:42:00) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 17ms (View: 11, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filter]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:46:40) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 17ms (View: 11, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filter]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:46:41) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 17ms (View: 11, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filter]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:46:42) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 17ms (View: 11, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filter]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:50:51) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 17ms (View: 11, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filter]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:51:28) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 95ms (View: 88, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filter]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:51:35) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 27ms (View: 20, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filter]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:52:18) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (syntax error on line 24, col 2: `  admission_date: "Data"') on line #1 of app/views/invoice_trails/index.html.haml:
1: - title "#{t(:invoice_trail)} (#{@invoice_trails_count})"
2: - javascript :defaults
3: 
4: - form_for @search do |f|

    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    app/views/invoice_trails/index.html.haml:1:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (47.3ms)
Rendered rescues/_request_and_response (1.5ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:52:34) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (syntax error on line 24, col 2: `  admission_date: "Data"') on line #1 of app/views/invoice_trails/index.html.haml:
1: - title "#{t(:invoice_trail)} (#{@invoice_trails_count})"
2: - javascript :defaults
3: 
4: - form_for @search do |f|

    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    app/views/invoice_trails/index.html.haml:1:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (44.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:53:44) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (syntax error on line 24, col 2: `  admission_date: "Data"') on line #1 of app/views/invoice_trails/index.html.haml:
1: - title "#{t(:invoice_trails)} (#{@invoice_trails_count})"
2: - javascript :defaults
3: 
4: - form_for @search do |f|

    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    app/views/invoice_trails/index.html.haml:1:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (116.3ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:54:10) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (syntax error on line 24, col 2: `  admission_date: "Data"') on line #3 of app/views/invoice_trails/index.html.haml:
1: - javascript :defaults
2: 
3: - title "#{t(:invoice_trails)} (#{@invoice_trails_count})"
4: 
5: - form_for @search do |f|
6:   %fieldset

    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (43.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:54:47) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (syntax error on line 24, col 2: `  admission_date: "Data"') on line #3 of app/views/invoice_trails/index.html.haml:
1: - javascript :defaults
2: 
3: - title "#{t(:invoice_trails)} (#{@invoice_trails_count})"
4: 
5: - form_for @search do |f|
6:   %fieldset

    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (44.1ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:55:14) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (syntax error on line 24, col 2: `  admission_date: "Data"') on line #3 of app/views/invoice_trails/index.html.haml:
1: - javascript :defaults
2: 
3: - title "#{t(:invoice_trails)} (#{@invoice_trails_count})"
4: 
5: - form_for @search do |f|
6:   %fieldset

    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (111.7ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:55:20) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (syntax error on line 24, col 2: `  admission_date: "Data"') on line #29 of app/views/invoice_trails/index.html.haml:
26:       / = f.label :payed, 'Payment Status:'
27:       / \&nbsp;&nbsp;
28:       / = f.radio_button :payed, true
29:       / Payed&nbsp;&nbsp;
30:       / = f.radio_button :payed, false
31:       / Not Payed&nbsp;&nbsp;
32: 

    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    app/views/invoice_trails/index.html.haml:29:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `call'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `form_for'
    haml (2.2.3) lib/haml/helpers.rb:542:in `call'
    haml (2.2.3) lib/haml/helpers.rb:542:in `haml_bind_proc'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:169:in `form_for'
    app/views/invoice_trails/index.html.haml:4:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (48.5ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:56:09) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (syntax error on line 24, col 2: `  admission_date: "Data"') on line #3 of app/views/invoice_trails/index.html.haml:
1: - javascript :defaults
2: 
3: - title "#{t(:invoice_trails)} (#{@invoice_trails_count})"
4: 
5: - form_for @search do |f|
6:   %fieldset

    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (43.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:56:27) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (syntax error on line 24, col 2: `  admission_date: "Data"') on line #27 of app/views/invoice_trails/index.html.haml:
24:       / = f.label :payed, 'Payment Status:'
25:       / \&nbsp;&nbsp;
26:       / = f.radio_button :payed, true
27:       / Payed&nbsp;&nbsp;
28:       / = f.radio_button :payed, false
29:       / Not Payed&nbsp;&nbsp;
30: 

    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    app/views/invoice_trails/index.html.haml:27:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `call'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `form_for'
    haml (2.2.3) lib/haml/helpers.rb:542:in `call'
    haml (2.2.3) lib/haml/helpers.rb:542:in `haml_bind_proc'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:169:in `form_for'
    app/views/invoice_trails/index.html.haml:2:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (117.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:57:11) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (syntax error on line 24, col 2: `  admission_date: "Data"') on line #3 of app/views/invoice_trails/index.html.haml:
1: - javascript :defaults
2: 
3: - title "#{t(:invoice_trails)} (#{@invoice_trails_count})"
4: 
5: - form_for @search do |f|
6:   %fieldset

    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (46.1ms)
Rendered rescues/_request_and_response (0.4ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:57:39) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (syntax error on line 24, col 2: `  admission_date: "Data"') on line #30 of app/views/invoice_trails/index.html.haml:
27:       / = f.label :payed, 'Payment Status:'
28:       / \&nbsp;&nbsp;
29:       / = f.radio_button :payed, true
30:       / Payed&nbsp;&nbsp;
31:       / = f.radio_button :payed, false
32:       / Not Payed&nbsp;&nbsp;
33: 

    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    app/views/invoice_trails/index.html.haml:30:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `call'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `form_for'
    haml (2.2.3) lib/haml/helpers.rb:542:in `call'
    haml (2.2.3) lib/haml/helpers.rb:542:in `haml_bind_proc'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:169:in `form_for'
    app/views/invoice_trails/index.html.haml:5:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (48.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:57:40) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (syntax error on line 24, col 2: `  admission_date: "Data"') on line #30 of app/views/invoice_trails/index.html.haml:
27:       / = f.label :payed, 'Payment Status:'
28:       / \&nbsp;&nbsp;
29:       / = f.radio_button :payed, true
30:       / Payed&nbsp;&nbsp;
31:       / = f.radio_button :payed, false
32:       / Not Payed&nbsp;&nbsp;
33: 

    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    app/views/invoice_trails/index.html.haml:30:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `call'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:163:in `form_for'
    haml (2.2.3) lib/haml/helpers.rb:542:in `call'
    haml (2.2.3) lib/haml/helpers.rb:542:in `haml_bind_proc'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:169:in `form_for'
    app/views/invoice_trails/index.html.haml:5:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (117.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:58:39) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (syntax error on line 24, col 2: `  admission_date: "Data"') on line #3 of app/views/invoice_trails/index.html.haml:
1: - javascript :defaults
2: 
3: - title "#{t(:invoice_trails)} (#{@invoice_trails_count})"
4: 
5: - form_for @search do |f|
6:   %fieldset

    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (44.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:58:40) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filter"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (syntax error on line 24, col 2: `  admission_date: "Data"') on line #3 of app/views/invoice_trails/index.html.haml:
1: - javascript :defaults
2: 
3: - title "#{t(:invoice_trails)} (#{@invoice_trails_count})"
4: 
5: - form_for @search do |f|
6:   %fieldset

    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (44.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:58:43) [GET]
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (syntax error on line 24, col 2: `  admission_date: "Data"') on line #3 of app/views/invoice_trails/index.html.haml:
1: - javascript :defaults
2: 
3: - title "#{t(:invoice_trails)} (#{@invoice_trails_count})"
4: 
5: - form_for @search do |f|
6:   %fieldset

    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (110.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:58:44) [GET]
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (syntax error on line 24, col 2: `  admission_date: "Data"') on line #3 of app/views/invoice_trails/index.html.haml:
1: - javascript :defaults
2: 
3: - title "#{t(:invoice_trails)} (#{@invoice_trails_count})"
4: 
5: - form_for @search do |f|
6:   %fieldset

    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (44.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:58:46) [GET]
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (syntax error on line 24, col 2: `  admission_date: "Data"') on line #3 of app/views/invoice_trails/index.html.haml:
1: - javascript :defaults
2: 
3: - title "#{t(:invoice_trails)} (#{@invoice_trails_count})"
4: 
5: - form_for @search do |f|
6:   %fieldset

    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (45.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-07 16:58:49) [GET]

ActionController::RoutingError (No route matches "/new" with {:method=>:get}):
  passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
  passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
  passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
  passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
  passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
  passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
  passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
  passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
  passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendering rescues/layout (not_found)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 16:58:51) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (syntax error on line 24, col 2: `  admission_date: "Data"') on line #3 of app/views/invoice_trails/index.html.haml:
1: - javascript :defaults
2: 
3: - title "#{t(:invoice_trails)} (#{@invoice_trails_count})"
4: 
5: - form_for @search do |f|
6:   %fieldset

    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (112.0ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:00:23) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (syntax error on line 24, col 2: `  admission_date: "Data"') on line #3 of app/views/invoice_trails/index.html.haml:
1: - javascript :defaults
2: 
3: - title "#{t(:invoice_trails)} (#{@invoice_trails_count})"
4: 
5: - form_for @search do |f|
6:   %fieldset

    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (43.9ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:00:24) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (syntax error on line 24, col 2: `  admission_date: "Data"') on line #3 of app/views/invoice_trails/index.html.haml:
1: - javascript :defaults
2: 
3: - title "#{t(:invoice_trails)} (#{@invoice_trails_count})"
4: 
5: - form_for @search do |f|
6:   %fieldset

    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    app/views/invoice_trails/index.html.haml:3:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'
    passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
    passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendered rescues/_trace (117.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:01:14) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 27ms (View: 20, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:01:21) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 26ms (View: 20, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:02:24) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 17ms (View: 11, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:02:33) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 17ms (View: 11, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:03:05) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 85ms (View: 78, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:03:15) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 18ms (View: 11, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:03:41) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 27ms (View: 21, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:03:49) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 18ms (View: 11, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:03:50) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filtra"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 17ms (View: 11, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filtra]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:04:09) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filtra"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 26ms (View: 19, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filtra]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:04:32) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filtra"}
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 21ms (View: 12, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filtra]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:04:33) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filtra"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 84ms (View: 78, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filtra]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:04:39) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filtra"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 27ms (View: 20, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filtra]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:05:07) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filtra"}
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 18ms (View: 11, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filtra]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:05:12) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filtra"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 18ms (View: 11, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filtra]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:05:15) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filtra"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 17ms (View: 11, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filtra]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:05:29) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filtra"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 18ms (View: 11, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filtra]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:05:34) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filtra"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 17ms (View: 11, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filtra]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:05:49) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filtra"}
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 122ms (View: 112, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filtra]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:06:22) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filtra"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 27ms (View: 21, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filtra]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:06:36) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filtra"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 27ms (View: 20, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filtra]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:07:05) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filtra"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 18ms (View: 11, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filtra]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:07:21) [GET]
  Parameters: {"search"=>{"admission_date_after"=>"", "order"=>"", "first_name_contains"=>"", "notes_contains"=>"", "admission_date_before"=>"", "last_name_contains"=>""}, "commit"=>"Filtra"}
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 18ms (View: 11, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails?search%5Border%5D=&search%5Badmission_date_after%5D=&search%5Badmission_date_before%5D=&search%5Blast_name_contains%5D=&search%5Bfirst_name_contains%5D=&search%5Bnotes_contains%5D=&commit=Filtra]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:07:27) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (127.2ms)
Completed in 142ms (View: 136, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:07:54) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (17.0ms)
Completed in 32ms (View: 27, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:08:02) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (20.0ms)
Completed in 34ms (View: 29, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:08:11) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (19.6ms)
Completed in 33ms (View: 28, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:09:49) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (19.0ms)
Completed in 32ms (View: 27, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:11:22) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (20.1ms)
Completed in 103ms (View: 98, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:12:54) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (16.0ms)
Completed in 31ms (View: 26, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:13:22) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (19.2ms)
Completed in 37ms (View: 32, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:13:23) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (15.7ms)
Completed in 26ms (View: 21, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:13:24) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (15.6ms)
Completed in 26ms (View: 21, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:13:36) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (17.1ms)
Completed in 100ms (View: 95, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:14:17) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (23.6ms)
Completed in 38ms (View: 32, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:14:21) [GET]
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 44ms (View: 33, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:14:24) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (19.3ms)
Completed in 26ms (View: 21, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:18:10) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (23.4ms)
Completed in 33ms (View: 28, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:19:04) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (21.1ms)
Completed in 32ms (View: 26, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:19:18) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (20.4ms)
Completed in 31ms (View: 25, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:19:32) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (19.8ms)
Completed in 30ms (View: 24, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:19:37) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (20.0ms)
Completed in 30ms (View: 25, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:19:40) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (20.0ms)
Completed in 30ms (View: 25, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:19:44) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (20.7ms)
Completed in 31ms (View: 26, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:19:47) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (20.1ms)
Completed in 31ms (View: 25, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:19:50) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (19.9ms)
Completed in 30ms (View: 25, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:19:59) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (20.2ms)
Completed in 31ms (View: 26, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:20:11) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (20.0ms)
Completed in 30ms (View: 25, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:20:19) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (20.7ms)
Completed in 32ms (View: 26, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:20:33) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (20.6ms)
Completed in 31ms (View: 26, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:20:46) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (21.7ms)
Completed in 32ms (View: 24, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:20:51) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (16.6ms)
Completed in 23ms (View: 18, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:20:53) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (16.1ms)
Completed in 23ms (View: 18, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:20:57) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (16.1ms)
Completed in 23ms (View: 18, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:21:01) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (17.5ms)
Completed in 25ms (View: 19, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:21:38) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (20.3ms)
Completed in 30ms (View: 25, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:21:56) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (20.2ms)
Completed in 31ms (View: 25, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:21:59) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 18ms (View: 11, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:22:32) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 27ms (View: 20, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:23:16) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 97ms (View: 90, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:24:09) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 28ms (View: 21, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails]


Processing ApplicationController#index (for 127.0.0.1 at 2009-09-07 17:24:09) [GET]

ActionController::RoutingError (No route matches "/javascripts/cachetrue.js" with {:method=>:get}):
  passenger (2.1.2) lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
  passenger (2.1.2) lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
  passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
  passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
  passenger (2.1.2) lib/phusion_passenger/utils.rb:176:in `safe_fork'
  passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:149:in `start'
  passenger (2.1.2) lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
  passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
  passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
  passenger (2.1.2) lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
  passenger (2.1.2) lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `__send__'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
  passenger (2.1.2) lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'

Rendering rescues/layout (not_found)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:28:15) [GET]
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 182ms (View: 171, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:28:40) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (59.5ms)
Completed in 76ms (View: 69, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]
/!\ FAILSAFE /!\  Mon Sep 07 17:29:00 +0200 2009
  Status: 500 Internal Server Error
  undefined method `rewind' for #<TCPSocket:0x22ec118>
    /Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/request.rb:150:in `POST'
    /Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:15:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
    /Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    /Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:29:26) [GET]
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 183ms (View: 170, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:29:29) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (87.9ms)
Completed in 111ms (View: 102, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]
/!\ FAILSAFE /!\  Mon Sep 07 17:29:45 +0200 2009
  Status: 500 Internal Server Error
  undefined method `rewind' for #<TCPSocket:0x22eb588>
    /Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/request.rb:150:in `POST'
    /Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:15:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
    /Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    /Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:30:14) [GET]
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 181ms (View: 169, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:38:01) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 18ms (View: 11, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:40:41) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (60.3ms)
Completed in 76ms (View: 70, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:40:43) [GET]
  [4;36;1mInvoiceTrail Load (0.1ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 18ms (View: 11, DB: 0) | 200 OK [http://bios-invoice-manager.local/]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:40:45) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (17.2ms)
Completed in 25ms (View: 19, DB: 0) | 200 OK [http://bios-invoice-manager.local/invoice_trails/new]
/!\ FAILSAFE /!\  Mon Sep 07 17:40:57 +0200 2009
  Status: 500 Internal Server Error
  undefined method `rewind' for #<TCPSocket:0x21018bc>
    /Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/request.rb:150:in `POST'
    /Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:15:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
    /Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    /Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
    /Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/rack/request_handler.rb:65:in `process_request'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_request_handler.rb:197:in `main_loop'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:340:in `start_request_handler'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:298:in `handle_spawn_application'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/utils.rb:176:in `safe_fork'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:296:in `handle_spawn_application'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:149:in `start'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/railz/application_spawner.rb:192:in `start'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:260:in `spawn_rails_application'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:121:in `lookup_or_add'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:254:in `spawn_rails_application'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:75:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server_collection.rb:74:in `synchronize'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:253:in `spawn_rails_application'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:148:in `spawn_application'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/spawn_manager.rb:285:in `handle_spawn_application'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `__send__'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:332:in `main_loop'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/lib/phusion_passenger/abstract_server.rb:182:in `start_synchronously'
    /Library/Ruby/Gems/1.8/gems/passenger-2.1.2/bin/passenger-spawn-server:50


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:45:09) [GET]
  [4;36;1mInvoiceTrail Load (0.2ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 125ms (View: 116, DB: 0) | 200 OK [http://localhost/]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 17:45:12) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (74.4ms)
Completed in 97ms (View: 88, DB: 0) | 200 OK [http://localhost/invoice_trails/new]


Processing InvoiceTrailsController#create (for 127.0.0.1 at 2009-09-07 17:45:19) [POST]
  Parameters: {"commit"=>"Invia", "invoice_trail"=>{"payed"=>"0", "discount"=>"0.0", "external_code"=>"12-903", "admission_date(1i)"=>"2009", "admission_date(2i)"=>"9", "admission_date(3i)"=>"7", "notes"=>"", "invoice_number"=>"", "gross_amount"=>"12", "first_name"=>"Michelangelo", "payed_amount"=>"0", "last_name"=>"Altamore"}, "authenticity_token"=>"yYFTmCHAc8ZTLLRIWSB4aHucTts4EOnJwMv3Dlg8Vcg="}
  [4;36;1mInvoiceTrail Create (0.7ms)[0m   [0;1mINSERT INTO "invoice_trails" ("payed", "external_code", "discount", "updated_at", "admission_date", "invoice_number", "notes", "payment_date", "first_name", "gross_amount", "last_name", "payed_amount", "created_at") VALUES('f', '12-903', 0.0, '2009-09-07 15:45:19', '2009-09-07', NULL, '', NULL, 'Michelangelo', 12.0, 'Altamore', 0.0, '2009-09-07 15:45:19')[0m
Redirected to http://localhost:3000/invoice_trails/1
Completed in 19ms (DB: 1) | 302 Found [http://localhost/invoice_trails]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:45:19) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.5ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 30ms (View: 20, DB: 1) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:45:21) [GET]
  [4;36;1mInvoiceTrail Load (0.5ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index

ActionView::TemplateError (undefined method `full_name' for #<InvoiceTrail:0x17a9760>) on line #62 of app/views/invoice_trails/index.html.haml:
59:       %td= h invoice_trail.id  
60:       %td= h invoice_trail.admission_date
61:       %td= h invoice_trail.external_code
62:       %td= h invoice_trail.full_name
63:       %td= h invoice_trail.gross_amount
64:       %td= h invoice_trail.payed_amount
65:       %td= h invoice_trail.discount

    app/views/invoice_trails/index.html.haml:62:in `_run_haml_app47views47invoice_trails47index46html46haml'
    app/views/invoice_trails/index.html.haml:57:in `each'
    app/views/invoice_trails/index.html.haml:57:in `_run_haml_app47views47invoice_trails47index46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (38.6ms)
Rendered rescues/_request_and_response (1.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:46:07) [GET]
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 22ms (View: 14, DB: 0) | 200 OK [http://localhost/invoice_trails]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:46:34) [GET]
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 21ms (View: 15, DB: 0) | 200 OK [http://localhost/invoice_trails]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:46:46) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.4ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 16ms (View: 8, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:48:47) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.4ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 87ms (View: 80, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:49:42) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 22ms (View: 15, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:49:50) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.3ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 22ms (View: 15, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:50:02) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 21ms (View: 15, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:50:06) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.3ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 21ms (View: 15, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#edit (for 127.0.0.1 at 2009-09-07 17:50:07) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/edit
Rendered invoice_trails/_form (17.4ms)
Completed in 30ms (View: 23, DB: 0) | 200 OK [http://localhost/invoice_trails/1/edit]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:50:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.5ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 23ms (View: 13, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:50:36) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 89ms (View: 15, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:51:30) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.3ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 23ms (View: 16, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:51:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 14ms (View: 8, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:51:44) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.3ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 14ms (View: 8, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:52:01) [GET]
  [4;36;1mInvoiceTrail Load (0.4ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 24ms (View: 15, DB: 1) | 200 OK [http://localhost/invoice_trails]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:52:18) [GET]
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.1ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 21ms (View: 14, DB: 0) | 200 OK [http://localhost/invoice_trails]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:52:20) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 21ms (View: 15, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:52:22) [GET]
  [4;35;1mInvoiceTrail Load (0.4ms)[0m   [0mSELECT * FROM "invoice_trails" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 22ms (View: 15, DB: 0) | 200 OK [http://localhost/invoice_trails]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:52:24) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.4ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 17ms (View: 9, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#edit (for 127.0.0.1 at 2009-09-07 17:52:26) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/edit
Rendered invoice_trails/_form (17.4ms)
Completed in 25ms (View: 19, DB: 0) | 200 OK [http://localhost/invoice_trails/1/edit]


Processing InvoiceTrailsController#edit (for 127.0.0.1 at 2009-09-07 17:53:29) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.3ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/edit
Rendered invoice_trails/_form (17.0ms)
Completed in 35ms (View: 29, DB: 0) | 200 OK [http://localhost/invoice_trails/1/edit]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 17:53:32) [GET]
  [4;36;1mInvoiceTrail Load (0.5ms)[0m   [0;1mSELECT * FROM "invoice_trails" [0m
  [4;35;1mSQL (0.2ms)[0m   [0mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 34ms (View: 22, DB: 1) | 200 OK [http://localhost/invoice_trails]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:53:34) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.4ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 16ms (View: 8, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#edit (for 127.0.0.1 at 2009-09-07 17:53:38) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.3ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/edit
Rendered invoice_trails/_form (13.2ms)
Completed in 92ms (View: 87, DB: 0) | 200 OK [http://localhost/invoice_trails/1/edit]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:53:40) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 15ms (View: 8, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:54:03) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.3ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
ERROR: compiling _run_haml_app47views47invoice_trails47show46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/show.html.haml:29: syntax error, unexpected ':', expecting '}'
Function body:           def _run_haml_app47views47invoice_trails47show46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :format=>:xhtml, :encoding=>nil, :attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre"]});_erbout = _hamlout.buffer;__in_erb_template = true;; title t(:invoice_trail);


























_hamlout.push_text("<p>\n  #{_hamlout.adjust_tabs(1); haml_temp =  link_to "« #{t(:invoice_trails)}", invoice_trails_path
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:admission_date):
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  #{haml_temp = h @invoice_trail.admission_date
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>External Code:</strong>\n  #{haml_temp = h @invoice_trail.external_code
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Last Name:</strong>\n  #{haml_temp = h @invoice_trail.last_name
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>First Name:</strong>\n  #{haml_temp = h @invoice_trail.first_name
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Gross Amount:</strong>\n  #{haml_temp = h @invoice_trail.gross_amount
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Payed Amount:</strong>\n  #{haml_temp = h @invoice_trail.payed_amount
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Discount:</strong>\n  #{haml_temp = h @invoice_trail.discount
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Payed:</strong>\n  #{haml_temp = h @invoice_trail.payed
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Payment Date:</strong>\n  #{haml_temp = h @invoice_trail.payment_date
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Invoice Number:</strong>\n  #{haml_temp = h @invoice_trail.invoice_number
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Notes:</strong>\n  #{haml_temp = h @invoice_trail.notes
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  #{haml_temp =  link_to t(:edit), edit_invoice_trail_path(@invoice_trail)
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  |\n  #{haml_temp =  link_to t(:delete), @invoice_trail, :confirm => t(:confirm_delete), :method => :delete
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n", -1, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/show.html.haml:46:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/show.html.haml:29: syntax error, unexpected ':', expecting '}') on line #29 of app/views/invoice_trails/show.html.haml:
26: %p
27:   %strong Payed:
28:   =h @invoice_trail.payed
29: %p
30:   %strong Payment Date:
31:   =h @invoice_trail.payment_date
32: %p

    app/views/invoice_trails/show.html.haml:46:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (34.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:54:06) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 21ms (View: 15, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:54:11) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.3ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show

ActionView::TemplateError (Invalid filter name ":".) on line #7 of app/views/invoice_trails/show.html.haml:
4: 
5: %p
6:   %strong=t(:admission_date)
7:   :
8:   =h @invoice_trail.admission_date
9: %p
10:   %strong External Code:

    app/views/invoice_trails/show.html.haml:7
    haml (2.2.3) lib/haml/precompiler.rb:839:in `start_filtered'
    haml (2.2.3) lib/haml/precompiler.rb:237:in `process_line'
    haml (2.2.3) lib/haml/precompiler.rb:168:in `precompile'
    haml (2.2.3) lib/haml/engine.rb:112:in `initialize'
    haml (2.2.3) lib/haml/template/plugin.rb:21:in `new'
    haml (2.2.3) lib/haml/template/plugin.rb:21:in `compile'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (109.3ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:54:16) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show

ActionView::TemplateError (Invalid filter name ":".) on line #7 of app/views/invoice_trails/show.html.haml:
4: 
5: %p
6:   %strong=t(:admission_date)
7:   :
8:   =h @invoice_trail.admission_date
9: %p
10:   %strong External Code:

    app/views/invoice_trails/show.html.haml:7
    haml (2.2.3) lib/haml/precompiler.rb:839:in `start_filtered'
    haml (2.2.3) lib/haml/precompiler.rb:237:in `process_line'
    haml (2.2.3) lib/haml/precompiler.rb:168:in `precompile'
    haml (2.2.3) lib/haml/engine.rb:112:in `initialize'
    haml (2.2.3) lib/haml/template/plugin.rb:21:in `new'
    haml (2.2.3) lib/haml/template/plugin.rb:21:in `compile'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (38.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:54:19) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.3ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 21ms (View: 15, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:54:24) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.4ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
ERROR: compiling _run_haml_app47views47invoice_trails47show46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/show.html.haml:29: syntax error, unexpected ':', expecting '}'
Function body:           def _run_haml_app47views47invoice_trails47show46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :format=>:xhtml, :encoding=>nil, :attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre"]});_erbout = _hamlout.buffer;__in_erb_template = true;; title t(:invoice_trail);


























_hamlout.push_text("<p>\n  #{_hamlout.adjust_tabs(1); haml_temp =  link_to "« #{t(:invoice_trails)}", invoice_trails_path
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:admission_date):
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  #{haml_temp = h @invoice_trail.admission_date
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>External Code:</strong>\n  #{haml_temp = h @invoice_trail.external_code
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Last Name:</strong>\n  #{haml_temp = h @invoice_trail.last_name
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>First Name:</strong>\n  #{haml_temp = h @invoice_trail.first_name
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Gross Amount:</strong>\n  #{haml_temp = h @invoice_trail.gross_amount
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Payed Amount:</strong>\n  #{haml_temp = h @invoice_trail.payed_amount
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Discount:</strong>\n  #{haml_temp = h @invoice_trail.discount
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Payed:</strong>\n  #{haml_temp = h @invoice_trail.payed
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Payment Date:</strong>\n  #{haml_temp = h @invoice_trail.payment_date
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Invoice Number:</strong>\n  #{haml_temp = h @invoice_trail.invoice_number
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Notes:</strong>\n  #{haml_temp = h @invoice_trail.notes
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  #{haml_temp =  link_to t(:edit), edit_invoice_trail_path(@invoice_trail)
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  |\n  #{haml_temp =  link_to t(:delete), @invoice_trail, :confirm => t(:confirm_delete), :method => :delete
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n", -1, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/show.html.haml:46:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/show.html.haml:29: syntax error, unexpected ':', expecting '}') on line #29 of app/views/invoice_trails/show.html.haml:
26: %p
27:   %strong Payed:
28:   =h @invoice_trail.payed
29: %p
30:   %strong Payment Date:
31:   =h @invoice_trail.payment_date
32: %p

    app/views/invoice_trails/show.html.haml:46:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (35.8ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:54:27) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.3ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show

ActionView::TemplateError (Invalid filter name ":".) on line #7 of app/views/invoice_trails/show.html.haml:
4: 
5: %p
6:   %strong=t(:admission_date)
7:   :
8:   =h @invoice_trail.admission_date
9: %p
10:   %strong External Code:

    app/views/invoice_trails/show.html.haml:7
    haml (2.2.3) lib/haml/precompiler.rb:839:in `start_filtered'
    haml (2.2.3) lib/haml/precompiler.rb:237:in `process_line'
    haml (2.2.3) lib/haml/precompiler.rb:168:in `precompile'
    haml (2.2.3) lib/haml/engine.rb:112:in `initialize'
    haml (2.2.3) lib/haml/template/plugin.rb:21:in `new'
    haml (2.2.3) lib/haml/template/plugin.rb:21:in `compile'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (38.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:54:32) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
ERROR: compiling _run_haml_app47views47invoice_trails47show46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/show.html.haml:29: syntax error, unexpected $undefined, expecting '}'
...aml_temp = t(:admission_date)\:
                              ^
Function body:           def _run_haml_app47views47invoice_trails47show46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :format=>:xhtml, :encoding=>nil, :attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre"]});_erbout = _hamlout.buffer;__in_erb_template = true;; title t(:invoice_trail);


























_hamlout.push_text("<p>\n  #{_hamlout.adjust_tabs(1); haml_temp =  link_to "« #{t(:invoice_trails)}", invoice_trails_path
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:admission_date)\:
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  #{haml_temp = h @invoice_trail.admission_date
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>External Code:</strong>\n  #{haml_temp = h @invoice_trail.external_code
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Last Name:</strong>\n  #{haml_temp = h @invoice_trail.last_name
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>First Name:</strong>\n  #{haml_temp = h @invoice_trail.first_name
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Gross Amount:</strong>\n  #{haml_temp = h @invoice_trail.gross_amount
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Payed Amount:</strong>\n  #{haml_temp = h @invoice_trail.payed_amount
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Discount:</strong>\n  #{haml_temp = h @invoice_trail.discount
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Payed:</strong>\n  #{haml_temp = h @invoice_trail.payed
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Payment Date:</strong>\n  #{haml_temp = h @invoice_trail.payment_date
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Invoice Number:</strong>\n  #{haml_temp = h @invoice_trail.invoice_number
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Notes:</strong>\n  #{haml_temp = h @invoice_trail.notes
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  #{haml_temp =  link_to t(:edit), edit_invoice_trail_path(@invoice_trail)
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  |\n  #{haml_temp =  link_to t(:delete), @invoice_trail, :confirm => t(:confirm_delete), :method => :delete
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n", -1, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/show.html.haml:46:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/show.html.haml:29: syntax error, unexpected $undefined, expecting '}'
...aml_temp = t(:admission_date)\:
                              ^) on line #29 of app/views/invoice_trails/show.html.haml:
26: %p
27:   %strong Payed:
28:   =h @invoice_trail.payed
29: %p
30:   %strong Payment Date:
31:   =h @invoice_trail.payment_date
32: %p

    app/views/invoice_trails/show.html.haml:46:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (34.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:54:36) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.3ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 20ms (View: 15, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:54:42) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 21ms (View: 15, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:54:51) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.3ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
ERROR: compiling _run_haml_app47views47invoice_trails47show46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/show.html.haml:29: syntax error, unexpected $undefined, expecting '}'
...aml_temp = t(:admission_date)\:
                              ^
Function body:           def _run_haml_app47views47invoice_trails47show46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :format=>:xhtml, :encoding=>nil, :attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre"]});_erbout = _hamlout.buffer;__in_erb_template = true;; title t(:invoice_trail);


























_hamlout.push_text("<p>\n  #{_hamlout.adjust_tabs(1); haml_temp =  link_to "« #{t(:invoice_trails)}", invoice_trails_path
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:admission_date)\:
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  #{haml_temp = h @invoice_trail.admission_date
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>External Code:</strong>\n  #{haml_temp = h @invoice_trail.external_code
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Last Name:</strong>\n  #{haml_temp = h @invoice_trail.last_name
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>First Name:</strong>\n  #{haml_temp = h @invoice_trail.first_name
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Gross Amount:</strong>\n  #{haml_temp = h @invoice_trail.gross_amount
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Payed Amount:</strong>\n  #{haml_temp = h @invoice_trail.payed_amount
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Discount:</strong>\n  #{haml_temp = h @invoice_trail.discount
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Payed:</strong>\n  #{haml_temp = h @invoice_trail.payed
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Payment Date:</strong>\n  #{haml_temp = h @invoice_trail.payment_date
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Invoice Number:</strong>\n  #{haml_temp = h @invoice_trail.invoice_number
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>Notes:</strong>\n  #{haml_temp = h @invoice_trail.notes
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  #{haml_temp =  link_to t(:edit), edit_invoice_trail_path(@invoice_trail)
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  |\n  #{haml_temp =  link_to t(:delete), @invoice_trail, :confirm => t(:confirm_delete), :method => :delete
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n", -1, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/show.html.haml:46:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/show.html.haml:29: syntax error, unexpected $undefined, expecting '}'
...aml_temp = t(:admission_date)\:
                              ^) on line #29 of app/views/invoice_trails/show.html.haml:
26: %p
27:   %strong Payed:
28:   =h @invoice_trail.payed
29: %p
30:   %strong Payment Date:
31:   =h @invoice_trail.payment_date
32: %p

    app/views/invoice_trails/show.html.haml:46:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (104.6ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:56:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 22ms (View: 16, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:56:31) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.4ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
ERROR: compiling _run_haml_app47views47invoice_trails47show46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/show.html.haml:40: syntax error, unexpected ':', expecting '}'
Function body:           def _run_haml_app47views47invoice_trails47show46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :format=>:xhtml, :encoding=>nil, :attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre"]});_erbout = _hamlout.buffer;__in_erb_template = true;; title t(:invoice_trail);

















_hamlout.push_text("<p>\n  #{_hamlout.adjust_tabs(1); haml_temp =  link_to "« #{t(:invoice_trails)}", invoice_trails_path
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:admission_date)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  :\n  #{haml_temp = h @invoice_trail.admission_date
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:external_code)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  #{haml_temp = h @invoice_trail.external_code
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:last_name)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  #{haml_temp = h @invoice_trail.last_name
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:first_name)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  #{haml_temp = h @invoice_trail.first_name
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:gross_amount)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  #{haml_temp = h @invoice_trail.gross_amount
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:payed_amount)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  #{haml_temp = h @invoice_trail.payed_amount
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:discount)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  #{haml_temp = h @invoice_trail.discount
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:payed)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  #{haml_temp = h @invoice_trail.payed
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:payment_date)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  #{haml_temp = h @invoice_trail.payment_date
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:invoice_number)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  #{haml_temp = h @invoice_trail.invoice_number
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:noter) :
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  #{haml_temp = h @invoice_trail.notes
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  #{haml_temp =  link_to t(:edit), edit_invoice_trail_path(@invoice_trail)
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  |\n  #{haml_temp =  link_to t(:delete), @invoice_trail, :confirm => t(:confirm_delete), :method => :delete
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n", -1, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/show.html.haml:47:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/show.html.haml:40: syntax error, unexpected ':', expecting '}') on line #40 of app/views/invoice_trails/show.html.haml:
37:   %strong= t(:noter) :
38:   =h @invoice_trail.notes
39: 
40: %p
41:   = link_to t(:edit), edit_invoice_trail_path(@invoice_trail)
42:   |
43:   = link_to t(:delete), @invoice_trail, :confirm => t(:confirm_delete), :method => :delete

    app/views/invoice_trails/show.html.haml:47:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (34.5ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:56:44) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show

ActionView::TemplateError (Invalid filter name ":".) on line #39 of app/views/invoice_trails/show.html.haml:
36: %p
37:   %strong
38:   =t(:noter)
39:   :
40:   =h @invoice_trail.notes
41: 
42: %p

    app/views/invoice_trails/show.html.haml:39
    haml (2.2.3) lib/haml/precompiler.rb:839:in `start_filtered'
    haml (2.2.3) lib/haml/precompiler.rb:237:in `process_line'
    haml (2.2.3) lib/haml/precompiler.rb:168:in `precompile'
    haml (2.2.3) lib/haml/engine.rb:112:in `initialize'
    haml (2.2.3) lib/haml/template/plugin.rb:21:in `new'
    haml (2.2.3) lib/haml/template/plugin.rb:21:in `compile'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (39.4ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:56:49) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.3ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 22ms (View: 16, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:56:55) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 21ms (View: 16, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:57:02) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.3ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 22ms (View: 16, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:57:04) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 90ms (View: 84, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:57:09) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.3ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show

ActionView::TemplateError (undefined method `|' for "Note":String) on line #43 of app/views/invoice_trails/show.html.haml:
40:   =h @invoice_trail.notes
41: 
42: %p
43:   = link_to t(:edit), edit_invoice_trail_path(@invoice_trail)
44:   |
45:   = link_to t(:delete), @invoice_trail, :confirm => t(:confirm_delete), :method => :delete

    app/views/invoice_trails/show.html.haml:43:in `_run_haml_app47views47invoice_trails47show46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (34.7ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:57:15) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
ERROR: compiling _run_haml_app47views47invoice_trails47show46html46haml RAISED compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/show.html.haml:42: syntax error, unexpected $undefined, expecting '}'
...bs(1); haml_temp = t(:notes) \:           
                              ^
Function body:           def _run_haml_app47views47invoice_trails47show46html46haml(local_assigns)
            old_output_buffer = output_buffer;;extend Haml::Helpers;_hamlout = @haml_buffer = Haml::Buffer.new(@haml_buffer, {:ugly=>false, :format=>:xhtml, :encoding=>nil, :attr_wrapper=>"'", :autoclose=>["meta", "img", "link", "br", "hr", "input", "area", "param", "col", "base"], :preserve=>["textarea", "pre"]});_erbout = _hamlout.buffer;__in_erb_template = true;; title t(:invoice_trail);



















_hamlout.push_text("<p>\n  #{_hamlout.adjust_tabs(1); haml_temp =  link_to "« #{t(:invoice_trails)}", invoice_trails_path
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:admission_date)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  :\n  #{haml_temp = h @invoice_trail.admission_date
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:external_code)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  #{haml_temp = h @invoice_trail.external_code
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:last_name)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  #{haml_temp = h @invoice_trail.last_name
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:first_name)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  #{haml_temp = h @invoice_trail.first_name
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:gross_amount)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  #{haml_temp = h @invoice_trail.gross_amount
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:payed_amount)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  #{haml_temp = h @invoice_trail.payed_amount
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:discount)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  #{haml_temp = h @invoice_trail.discount
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:payed)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  #{haml_temp = h @invoice_trail.payed
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:payment_date)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  #{haml_temp = h @invoice_trail.payment_date
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>#{_hamlout.adjust_tabs(1); haml_temp = t(:invoice_number)
_hamlout.format_script_false_true_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}</strong>\n  #{haml_temp = h @invoice_trail.invoice_number
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  <strong>\n    #{_hamlout.adjust_tabs(1); haml_temp = t(:notes) \:           
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  </strong>\n  #{_hamlout.adjust_tabs(-1); haml_temp = h @invoice_trail.notes
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n<p>\n  #{haml_temp =  link_to t(:edit), edit_invoice_trail_path(@invoice_trail)
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n  |\n  #{haml_temp =  link_to t(:delete), @invoice_trail, :confirm => t(:confirm_delete), :method => :delete
_hamlout.format_script_false_false_false_false_false_true_false((haml_very_temp = haml_temp; haml_temp = nil; haml_very_temp));}\n</p>\n", -1, false);@haml_buffer = @haml_buffer.upper;_erbout;
          ensure
            self.output_buffer = old_output_buffer
          end
Backtrace: /Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/show.html.haml:49:in `compile!'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:61:in `compile'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/renderable.rb:28:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/template.rb:199:in `render_template'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:260:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:343:in `_render_with_layout'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_view/base.rb:257:in `render_without_haml'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/haml/helpers/action_view_mods.rb:13:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1250:in `render_for_file'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:945:in `render_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:51:in `render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1326:in `default_render'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:1332:in `perform_action_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:617:in `call_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:610:in `perform_action_without_benchmark'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:10:in `realtime'
/Library/Ruby/Gems/1.8/gems/activesupport-2.3.4/lib/active_support/core_ext/benchmark.rb:17:in `ms'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/benchmarking.rb:68:in `perform_action_without_rescue'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/rescue.rb:160:in `perform_action_without_flash'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/flash.rb:146:in `perform_action'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `send'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:532:in `process_without_filters'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/filters.rb:606:in `sass_old_process'
/Library/Ruby/Gems/1.8/gems/haml-2.2.3/lib/sass/plugin/rails.rb:19:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:391:in `process'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/base.rb:386:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/routing/route_set.rb:437:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:87:in `dispatch'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:121:in `_call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:130:in `build_middleware_stack'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:29:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/query_cache.rb:34:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:9:in `cache'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/query_cache.rb:28:in `call'
/Library/Ruby/Gems/1.8/gems/activerecord-2.3.4/lib/active_record/connection_adapters/abstract/connection_pool.rb:361:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/head.rb:9:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/methodoverride.rb:24:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/params_parser.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/session/cookie_store.rb:93:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/failsafe.rb:26:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `synchronize'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/lock.rb:11:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:114:in `call'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/reloader.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/actionpack-2.3.4/lib/action_controller/dispatcher.rb:108:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.4/lib/rails/rack/static.rb:31:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:46:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `each'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/urlmap.rb:40:in `call'
/Library/Ruby/Gems/1.8/gems/rails-2.3.4/lib/rails/rack/log_tailer.rb:17:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/content_length.rb:13:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/chunked.rb:15:in `call'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:61:in `process'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:159:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `each'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:158:in `process_client'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:285:in `run'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `initialize'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `new'
/Library/Ruby/Gems/1.8/gems/mongrel-1.1.5/lib/mongrel.rb:268:in `run'
/Library/Ruby/Gems/1.8/gems/rack-1.0.0/lib/rack/handler/mongrel.rb:34:in `run'
/Library/Ruby/Gems/1.8/gems/rails-2.3.4/lib/commands/server.rb:111
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `gem_original_require'
/Library/Ruby/Site/1.8/rubygems/custom_require.rb:31:in `require'
./script/server:3

ActionView::TemplateError (compile error
/Users/miky/code/convergent/bios_invoice_manager/app/views/invoice_trails/show.html.haml:42: syntax error, unexpected $undefined, expecting '}'
...bs(1); haml_temp = t(:notes) \:           
                              ^) on line #42 of app/views/invoice_trails/show.html.haml:
39:   \:           |
40:   =h @invoice_trail.notes
41: 
42: %p
43:   = link_to t(:edit), edit_invoice_trail_path(@invoice_trail)
44:   |
45:   = link_to t(:delete), @invoice_trail, :confirm => t(:confirm_delete), :method => :delete

    app/views/invoice_trails/show.html.haml:49:in `compile!'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (104.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:57:22) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.4ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 26ms (View: 17, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:58:39) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show

ActionView::TemplateError (syntax error on line 21, col 2: `  on:"del"') on line #1 of app/views/invoice_trails/show.html.haml:
1: - title t(:invoice_trail)
2: %p
3:   = link_to "« #{t(:invoice_trails)}", invoice_trails_path
4: 

    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    /System/Library/Frameworks/Ruby.framework/Versions/1.8/usr/lib/ruby/1.8/yaml.rb:133:in `load'
    app/views/invoice_trails/show.html.haml:1:in `_run_haml_app47views47invoice_trails47show46html46haml'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/haml/helpers/action_view_mods.rb:13:in `render'
    haml (2.2.3) lib/sass/plugin/rails.rb:19:in `process'

Rendered rescues/_trace (43.2ms)
Rendered rescues/_request_and_response (0.3ms)
Rendering rescues/layout (internal_server_error)


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 17:58:50) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.3ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 15ms (View: 9, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 18:00:59) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 93ms (View: 87, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 18:01:43) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.3ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 25ms (View: 19, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 18:02:11) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 24ms (View: 18, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 18:03:06) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mInvoiceTrail Load (0.3ms)[0m   [0mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 16ms (View: 9, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#show (for 127.0.0.1 at 2009-09-07 18:03:19) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mInvoiceTrail Load (0.3ms)[0m   [0;1mSELECT * FROM "invoice_trails" WHERE ("invoice_trails"."id" = 1) [0m
Rendering template within layouts/application
Rendering invoice_trails/show
Completed in 16ms (View: 10, DB: 0) | 200 OK [http://localhost/invoice_trails/1]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 18:03:21) [GET]
  [4;35;1mInvoiceTrail Load (0.3ms)[0m   [0mSELECT * FROM "invoice_trails" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 21ms (View: 14, DB: 0) | 200 OK [http://localhost/invoice_trails]


Processing InvoiceTrailsController#index (for 127.0.0.1 at 2009-09-07 18:04:34) [GET]
  [4;35;1mInvoiceTrail Load (0.3ms)[0m   [0mSELECT * FROM "invoice_trails" [0m
  [4;36;1mSQL (0.1ms)[0m   [0;1mSELECT count(*) AS count_all FROM "invoice_trails" [0m
Rendering template within layouts/application
Rendering invoice_trails/index
Completed in 21ms (View: 14, DB: 0) | 200 OK [http://localhost/invoice_trails]


Processing InvoiceTrailsController#new (for 127.0.0.1 at 2009-09-07 18:04:45) [GET]
Rendering template within layouts/application
Rendering invoice_trails/new
Rendered invoice_trails/_form (13.7ms)
Completed in 29ms (View: 23, DB: 0) | 200 OK [http://localhost/invoice_trails/new]
